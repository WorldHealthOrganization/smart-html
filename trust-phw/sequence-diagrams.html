<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Sequence Diagrams - GDHCN Trust Network - Personal Health Wallet v0.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>
    <link href="assets/css/fa-all.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/who.css" rel="stylesheet"/>
    <link href="assets/css/lforms.min.css" rel="stylesheet"/>


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3.2"}
    h3,h4,h5,h6{--heading-prefix:"3.2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->

      <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
        <div id="stripe"> </div>
        <div class="container">  <!-- container -->
          <!-- HEADER CONTENT -->
  
          <nav class="navbar navbar-inverse">
            <!--status-bar-->
            <div class="container">
              <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
              </button>
              <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
              <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Home
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="index.html">Summary</a>
      </li>
      <li>
        <a href="changes.html">Changes</a>
      </li>
      <li>
        <a href="dependencies.html">Dependencies</a>
      </li>
      <li>
        <a href="references.html">References</a>
      </li>
      <li>
        <a href="adapting.html">Adapting Guidelines for Country use</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Business Requirements
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="concepts.html">Concepts</a>
      </li>
      <li>
        <a href="personas.html">Generic Personas</a>
      </li>
      <li>
        <a href="scenarios.html">User Scenarios</a>
      </li>
      <li>
        <a href="business-processes.html">Business Processes</a>
      </li>
      <li>
        <a href="dictionary.html">Data Dictionary</a>
      </li>
      <li>
        <a href="decision-logic.html">Decision-support Logic</a>
      </li>
      <li>
        <a href="indicators.html">Indicator and Performance Metrics</a>
      </li>
      <li>
        <a href="functional-requirements.html">Functional Requirements</a>
      </li>
      <li>
        <a href="non-functional-requirements.html">Non-functional Requirements</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Data Models and Exchange
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="system-actors.html">System Actors</a>
      </li>
      <li>
        <a href="sequence-diagrams.html">Sequence Diagrams</a>
      </li>
      <li>
        <a href="transactions.html">Transactions</a>
      </li>
      <li>
        <a href="indicators-measures.html">Indicators and Measures</a>
      </li>
      <li>
        <a href="codings.html">Codings</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Deployment
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="security-privacy.html">Security and Privacy Considerations</a>
      </li>
      <li>
        <a href="testing.html">Testing</a>
      </li>
      <li>
        <a href="test-data.html">Test Data</a>
      </li>
      <li>
        <a href="reference-implementations.html">Reference Implementations</a>
      </li>
      <li>
        <a href="trust_domain.html">Trust Domains</a>
      </li>
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Indices
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html">Artifact Index</a>
      </li>
      <li>
        <a href="maps.html">Mappings</a>
      </li>
    </ul>
  </li>
</ul>
              </div>  <!-- /.nav-collapse -->

              <div class="sf_colsIn col-md-8  navbar-right-container" data-sf-element="LanguageSelectorSearch" data-placeholder-label="Language Selector and Search" style="display: flex; justify-content: flex-end; align-items: center;">
                <!-- This div will be pushed to the right -->
                <div class="language-selector" style="margin-left: auto; background-color: #00477d; color: white;">
                  <i class="fa fa-language fa-lg"></i>
                  <label for="language-selector"> </label>
                  <select onChange="openLink(value)" id="language-selector" name="language-selector">
                    <option disabled selected>Select language</option>
                    <option value="en" class="selected">English</option>
                  </select>
                  <i class="fas fa-angle-down"></i>
                </div>
                <!-- Search Content -->
              </div>
            </div>  <!-- /.container -->
          </nav>  <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
        </div>  <!-- /container -->
      </div>  <!-- /segment-navbar -->
      

      <div class="container" style=" justify-content: space-between; align-items: left;">

        <!-- Placeholder for child template header declarations -->
<div id="project-nav">
    <a id="who-logo" no-external="true" href="index.html">
        
    </a>
</div>

 <div id="family-nav">
  <a id="fhir-logo" no-external="true" href="http://hl7.org/fhir">  </a>
</div> 


        <div id="ig-status" class="ig-status-draft">
          <p><span style="font-size:12pt;font-weight:bold">GDHCN Trust Network - Personal Health Wallet</span>
            <br/>
            <span style="display:inline-block;">0.1.0 - release



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->


    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='data-models-and-exchange.html'><b>Data Models and Exchange</b></a></li><li><b>Sequence Diagrams</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the GDHCN Trust Network - Personal Health Wallet (v0.1.0: Releases Draft) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a data-no-external="true" href="http://smart.who.int/trust-phw/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Sequence Diagrams</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div>
<!-- do not remove - needed to prevent Jekyll from adding a p tag to any non block level element in the markdown.-->
</div>

<h4 id="-consent-selection"><a id="consent-selection"></a> Consent Selection</h4>
<figure style="width:70%">
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" preserveAspectRatio="none" version="1.1" viewBox="0 0 688 213" zoomAndPan="magnify"><defs /><g><g><title>Holder</title><rect fill="#000000" fill-opacity="0.00000" height="137.6641" width="8" x="62.9199" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="68.8906" y2="206.5547" /></g><g><title>Issuer</title><rect fill="#000000" fill-opacity="0.00000" height="137.6641" width="8" x="250.2642" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="254.0117" x2="254.0117" y1="68.8906" y2="206.5547" /></g><g><title>Consent Repository</title><rect fill="#000000" fill-opacity="0.00000" height="137.6641" width="8" x="436.0195" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="439.5166" x2="439.5166" y1="68.8906" y2="206.5547" /></g><g><title>ConsentRepository</title><rect fill="#000000" fill-opacity="0.00000" height="137.6641" width="8" x="605.4531" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="609.1753" x2="609.1753" y1="68.8906" y2="206.5547" /></g><g class="participant participant-head" data-participant="Holder"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.8398" x="5" y="21.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2383" x="43.8008" y="41.292">Holder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8398" x="12" y="57.5889">(as VHL Holder)</text></g><g class="participant participant-head" data-participant="Issuer"><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.5049" x="154.0117" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.959" x="233.2847" y="24.9951">Issuer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.5049" x="161.0117" y="41.292">(as PCF Consent Recorder,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6035" x="204.1875" y="57.5889">as VHL Sharer)</text></g><g class="participant participant-head" data-participant="PCFConsentRepository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.0059" x="364.5166" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.0059" x="371.5166" y="57.5889">Consent Repository</text></g><g class="participant participant-head" data-participant="ConsentRepository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.5557" x="536.1753" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.5557" x="543.1753" y="57.5889">ConsentRepository</text></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="242.2642,96.0234,252.2642,100.0234,242.2642,104.0234,246.2642,100.0234" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="66.9199" x2="248.2642" y1="100.0234" y2="100.0234" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.3442" x="73.9199" y="94.9575">Select consent directives</text></g><g class="message" data-participant-1="Issuer" data-participant-2="ConsentRepository"><polygon fill="#181818" points="597.4531,140.2891,607.4531,144.2891,597.4531,148.2891,601.4531,144.2891" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="254.2642" x2="603.4531" y1="144.2891" y2="144.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.5596" x="261.2642" y="124.0903">PCF transaction Access Consent request [ITI-108]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2168" x="261.2642" y="139.2231">(Issuer as PCF Consent Recorder)</text></g><g class="message" data-participant-1="ConsentRepository" data-participant-2="Issuer"><polygon fill="#181818" points="265.2642,184.5547,255.2642,188.5547,265.2642,192.5547,261.2642,188.5547" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="259.2642" x2="608.4531" y1="188.5547" y2="188.5547" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.189" x="271.2642" y="168.356">PCF transaction Access Consent response [ITI-108]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2168" x="271.2642" y="183.4888">(Issuer as PCF Consent Recorder)</text></g></g></svg>
</figure>

<h4 id="--generate-and-use-vhl---unsigned-documents"><a id="generate-use-vhl-unsigned-doc"></a>  Generate and Use VHL - Unsigned documents</h4>
<figure style="width:70%">
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" preserveAspectRatio="none" version="1.1" viewBox="0 0 1433 902" zoomAndPan="magnify"><defs /><g><g><title>Holder</title><rect fill="#FFFFFF" height="513.3281" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="76.9199" y="78.8906" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="76.9199" y1="78.8906" y2="592.2188" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="86.9199" y1="78.8906" y2="592.2188" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="86.9199" y1="78.8906" y2="78.8906" /></g><g><title>Holder</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="76.9199" y="633.0234" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="76.9199" y1="633.0234" y2="886.4844" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="86.9199" y1="633.0234" y2="886.4844" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="86.9199" y1="886.4844" y2="886.4844" /></g><g><title>Issuer</title><rect fill="#FFFFFF" height="505.3281" style="stroke:#181818;stroke-width:1;" width="10" x="568.6685" y="78.8906" /></g><rect fill="none" height="134.7969" style="stroke:#000000;stroke-width:1.5;" width="1248.9937" x="10" y="85.8906" /><rect fill="none" height="162.6016" style="stroke:#000000;stroke-width:1.5;" width="963.2007" x="463.416" y="321.0859" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="639.022" x="463.416" y="772.8203" /><g><title>Holder</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="77.9199" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="81" x2="81" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="81" x2="81" y1="592.2188" y2="633.0234" /><g><title>Holder</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="77.9199" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="81" x2="81" y1="633.0234" y2="895.4844" /></g><g><title>Issuer</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="569.6685" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="573.416" x2="573.416" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="573.416" x2="573.416" y1="592.2188" y2="633.0234" /><g><title>Issuer</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="569.6685" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="573.416" x2="573.416" y1="633.0234" y2="895.4844" /></g><g><title>Consent Repository</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="864.1382" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="867.6353" x2="867.6353" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="867.6353" x2="867.6353" y1="592.2188" y2="633.0234" /><g><title>Consent Repository</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="864.1382" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="867.6353" x2="867.6353" y1="633.0234" y2="895.4844" /></g><g><title>Receiver</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="1019.0396" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1022.6411" x2="1022.6411" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="1022.6411" x2="1022.6411" y1="592.2188" y2="633.0234" /><g><title>Receiver</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="1019.0396" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1022.6411" x2="1022.6411" y1="633.0234" y2="895.4844" /></g><g><title>ConsentRepository</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="1171.7158" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1175.438" x2="1175.438" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="1175.438" x2="1175.438" y1="592.2188" y2="633.0234" /><g><title>ConsentRepository</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="1171.7158" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1175.438" x2="1175.438" y1="633.0234" y2="895.4844" /></g><g><title>DocumentGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="523.3281" width="8" x="1333.8052" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1336.9937" x2="1336.9937" y1="68.8906" y2="592.2188" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="1336.9937" x2="1336.9937" y1="592.2188" y2="633.0234" /><g><title>DocumentGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="1333.8052" y="633.0234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1336.9937" x2="1336.9937" y1="633.0234" y2="895.4844" /></g><g class="participant participant-head" data-participant="Holder"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.8398" x="20" y="21.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2383" x="58.8008" y="41.292">Holder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8398" x="27" y="57.5889">(as VHL Holder)</text></g><g class="participant participant-head" data-participant="Issuer"><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.5049" x="473.416" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.959" x="552.689" y="24.9951">Issuer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.5049" x="480.416" y="41.292">(as PCF Consent Recorder,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6035" x="523.5918" y="57.5889">as VHL Sharer)</text></g><g class="participant participant-head" data-participant="PCFConsentRepository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.0059" x="792.6353" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.0059" x="799.6353" y="57.5889">Consent Repository</text></g><g class="participant participant-head" data-participant="Receiver"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7969" x="953.6411" y="21.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.1953" x="992.4419" y="41.292">Receiver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7969" x="960.6411" y="57.5889">(as VHL Receiver)</text></g><g class="participant participant-head" data-participant="ConsentRepository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.5557" x="1102.438" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.5557" x="1109.438" y="57.5889">ConsentRepository</text></g><g class="participant participant-head" data-participant="DocumentGenerator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.623" x="1258.9937" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.623" x="1265.9937" y="57.5889">DocumentGenerator</text></g><g><title>Holder</title><rect fill="#FFFFFF" height="513.3281" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="76.9199" y="78.8906" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="76.9199" y1="78.8906" y2="592.2188" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="86.9199" y1="78.8906" y2="592.2188" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="86.9199" y1="78.8906" y2="78.8906" /></g><g><title>Holder</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="76.9199" y="633.0234" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="76.9199" y1="633.0234" y2="886.4844" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="86.9199" y1="633.0234" y2="886.4844" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="86.9199" y1="886.4844" y2="886.4844" /></g><g><title>Issuer</title><rect fill="#FFFFFF" height="505.3281" style="stroke:#181818;stroke-width:1;" width="10" x="568.6685" y="78.8906" /></g><path d="M10,85.8906 L248.6797,85.8906 L248.6797,93.0234 L238.6797,103.0234 L10,103.0234 L10,85.8906" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="134.7969" style="stroke:#000000;stroke-width:1.5;" width="1248.9937" x="10" y="85.8906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193.6797" x="25" y="98.9575">optional consent selection</text><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="556.6685,120.1563,566.6685,124.1563,556.6685,128.1563,560.6685,124.1563" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="562.6685" y1="124.1563" y2="124.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.3442" x="93.9199" y="119.0903">Select consent directives</text></g><g class="message" data-participant-1="Issuer" data-participant-2="ConsentRepository"><polygon fill="#181818" points="1163.7158,164.4219,1173.7158,168.4219,1163.7158,172.4219,1167.7158,168.4219" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="1169.7158" y1="168.4219" y2="168.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.5596" x="585.6685" y="148.2231">PCF transaction Access Consent request [ITI-108]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2168" x="585.6685" y="163.356">(Issuer as PCF Consent Recorder)</text></g><g class="message" data-participant-1="ConsentRepository" data-participant-2="Issuer"><polygon fill="#181818" points="589.6685,208.6875,579.6685,212.6875,589.6685,216.6875,585.6685,212.6875" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="583.6685" x2="1174.7158" y1="212.6875" y2="212.6875" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.189" x="595.6685" y="192.4888">PCF transaction Access Consent response [ITI-108]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2168" x="595.6685" y="207.6216">(Issuer as PCF Consent Recorder)</text></g><g class="message" data-participant-1="Holder" data-participant-2="Holder"><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="128.9199" y1="248.8203" y2="248.8203" /><line style="stroke:#181818;stroke-width:1;" x1="128.9199" x2="128.9199" y1="248.8203" y2="261.8203" /><line style="stroke:#181818;stroke-width:1;" x1="87.9199" x2="128.9199" y1="261.8203" y2="261.8203" /><polygon fill="#181818" points="97.9199,257.8203,87.9199,261.8203,97.9199,265.8203,93.9199,261.8203" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457.7485" x="93.9199" y="243.7544">Select VHL authorization mechanism parameters (e.g. expiration, PIN)</text></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="556.6685,302.0859,566.6685,306.0859,556.6685,310.0859,560.6685,306.0859" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="562.6685" y1="306.0859" y2="306.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.3218" x="93.9199" y="285.8872">Generate VHL request [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9048" x="93.9199" y="301.02">(as VHL Holder and VHL Sharer)</text></g><path d="M463.416,321.0859 L527.8589,321.0859 L527.8589,328.2188 L517.8589,338.2188 L463.416,338.2188 L463.416,321.0859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="162.6016" style="stroke:#000000;stroke-width:1.5;" width="963.2007" x="463.416" y="321.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="478.416" y="334.1528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5649" x="542.8589" y="333.2964">[use reference architecture]</text><g class="message" data-participant-1="Issuer" data-participant-2="DocumentGenerator"><polygon fill="#181818" points="1325.8052,370.4844,1335.8052,374.4844,1325.8052,378.4844,1329.8052,374.4844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="1331.8052" y1="374.4844" y2="374.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2725" x="585.6685" y="354.2856">Generate document request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="589.8008" y="369.4185">IPA [DocumentReference/$docref]</text></g><g class="message" data-participant-1="DocumentGenerator" data-participant-2="Issuer"><polygon fill="#181818" points="589.6685,414.75,579.6685,418.75,589.6685,422.75,585.6685,418.75" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="583.6685" x2="1336.8052" y1="418.75" y2="418.75" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.9019" x="595.6685" y="398.5513">Generate document response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="599.8008" y="413.6841">IPA [DocumentReference/$docref]</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="463.416" x2="1426.6167" y1="427.75" y2="427.75" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3652" x="468.416" y="437.9604">[use bespoke means]</text><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="620.6685" y1="462.6875" y2="462.6875" /><line style="stroke:#181818;stroke-width:1;" x1="620.6685" x2="620.6685" y1="462.6875" y2="475.6875" /><line style="stroke:#181818;stroke-width:1;" x1="579.6685" x2="620.6685" y1="475.6875" y2="475.6875" /><polygon fill="#181818" points="589.6685,471.6875,579.6685,475.6875,589.6685,479.6875,585.6685,475.6875" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6162" x="585.6685" y="457.6216">generate document</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="620.6685" y1="526.9531" y2="526.9531" /><line style="stroke:#181818;stroke-width:1;" x1="620.6685" x2="620.6685" y1="526.9531" y2="539.9531" /><line style="stroke:#181818;stroke-width:1;" x1="579.6685" x2="620.6685" y1="539.9531" y2="539.9531" /><polygon fill="#181818" points="589.6685,535.9531,579.6685,539.9531,589.6685,543.9531,585.6685,539.9531" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.4697" x="585.6685" y="506.7544">Generate VHL authorization mechanism</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.1206" x="585.6685" y="521.8872">(e.g. create the signed HCERT QR code)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Holder"><polygon fill="#181818" points="97.9199,580.2188,87.9199,584.2188,97.9199,588.2188,93.9199,584.2188" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="91.9199" x2="572.6685" y1="584.2188" y2="584.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.9512" x="103.9199" y="564.02">Generate VHL response [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.0371" x="103.9199" y="579.1528">(as  VHL Sharer and VHL Holder)</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66.0322" x="676.8464" y="616.4292">time passes</text><g class="message" data-participant-1="Holder" data-participant-2="Receiver"><polygon fill="#181818" points="1011.0396,665.2891,1021.0396,669.2891,1011.0396,673.2891,1015.0396,669.2891" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="86.9199" x2="1017.0396" y1="669.2891" y2="669.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5972" x="93.9199" y="649.0903">Provide VHL  [ITI-YY6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.584" x="98.0522" y="664.2231">(as VHL Holder and VHL Receiver)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="584.6685,709.5547,574.6685,713.5547,584.6685,717.5547,580.6685,713.5547" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="1022.0396" y1="713.5547" y2="713.5547" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.2505" x="590.6685" y="693.356">Request VHL Documents request [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="594.8008" y="708.4888">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="584.6685,753.8203,574.6685,757.8203,584.6685,761.8203,580.6685,757.8203" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="1022.0396" y1="757.8203" y2="757.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.8799" x="590.6685" y="737.6216">Request VHL Documents response [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="594.8008" y="752.7544">(as VHL Receiver and VHL Sharer)</text></g><path d="M463.416,772.8203 L540.04,772.8203 L540.04,779.9531 L530.04,789.9531 L463.416,789.9531 L463.416,772.8203" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="639.022" x="463.416" y="772.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="478.416" y="785.8872">loop</text><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="584.6685,822.2188,574.6685,826.2188,584.6685,830.2188,580.6685,826.2188" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="578.6685" x2="1022.0396" y1="826.2188" y2="826.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.4775" x="590.6685" y="806.02">Request VHL Document request [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="594.8008" y="821.1528">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Receiver"><polygon fill="#181818" points="1011.0396,866.4844,1021.0396,870.4844,1011.0396,874.4844,1015.0396,870.4844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="573.6685" x2="1017.0396" y1="870.4844" y2="870.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.1069" x="580.6685" y="850.2856">Request VHL Document response [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="584.8008" y="865.4185">(as VHL Sharer and VHL Receiver)</text></g></g></svg>
</figure>

<h4 id="-generate-and-use-vhl---consent-and-selctive-disclosure"><a id="generate-use-vhl-with-consent-and-selective-disclosure"></a> Generate and Use VHL - Consent and Selctive Disclosure</h4>

<figure style="width:70%">
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" preserveAspectRatio="none" version="1.1" viewBox="0 0 1314 1100" zoomAndPan="magnify"><title>Generate and Use VHL with Consent and Selective Disclosure</title><defs /><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="484.709" x="416.5718" y="27.9951">Generate and Use VHL with Consent and Selective Disclosure</text><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="673.7969" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="116.1875" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="116.1875" y2="789.9844" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="116.1875" y2="789.9844" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="116.1875" y2="116.1875" /></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="830.7891" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="830.7891" y2="1084.25" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="830.7891" y2="1084.25" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="1084.25" y2="1084.25" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#FFFFFF" height="665.7969" style="stroke:#181818;stroke-width:1;" width="10" x="328.5044" y="116.1875" /></g><rect fill="none" height="235" style="stroke:#000000;stroke-width:1.5;" width="815.0278" x="223.252" y="196.5859" /><rect fill="none" height="251" style="stroke:#000000;stroke-width:1.5;" width="1095.6006" x="213.252" y="445.5859" /><rect fill="none" height="219.8672" style="stroke:#000000;stroke-width:1.5;" width="1075.6006" x="223.252" y="469.7188" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="647.4048" x="223.252" y="970.5859" /><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="62.9199" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="66" x2="66" y1="789.9844" y2="830.7891" /><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="62.9199" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="830.7891" y2="1093.25" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="329.5044" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="333.252" x2="333.252" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="333.252" x2="333.252" y1="789.9844" y2="830.7891" /><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="329.5044" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="333.252" x2="333.252" y1="830.7891" y2="1093.25" /></g><g><title>[[system-actors.html#ConsentRegistry Consent Registry]]</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="640.9224" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="643.9849" x2="643.9849" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="643.9849" x2="643.9849" y1="789.9844" y2="830.7891" /><g><title>[[system-actors.html#ConsentRegistry Consent Registry]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="640.9224" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="643.9849" x2="643.9849" y1="830.7891" y2="1093.25" /></g><g><title>[[system-actors.html#Receiver Receiver]]</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="787.2583" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="790.8599" x2="790.8599" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="790.8599" x2="790.8599" y1="789.9844" y2="830.7891" /><g><title>[[system-actors.html#Receiver Receiver]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="787.2583" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="790.8599" x2="790.8599" y1="830.7891" y2="1093.25" /></g><g><title>DocumentGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="945.4683" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948.6567" x2="948.6567" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="948.6567" x2="948.6567" y1="789.9844" y2="830.7891" /><g><title>DocumentGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="945.4683" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948.6567" x2="948.6567" y1="830.7891" y2="1093.25" /></g><g><title>DocumentSigner</title><rect fill="#000000" fill-opacity="0.00000" height="683.7969" width="8" x="1099.9971" y="106.1875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1103.2798" x2="1103.2798" y1="106.1875" y2="789.9844" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="1103.2798" x2="1103.2798" y1="789.9844" y2="830.7891" /><g><title>DocumentSigner</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="1099.9971" y="830.7891" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1103.2798" x2="1103.2798" y1="830.7891" y2="1093.25" /></g><g class="participant participant-head" data-participant="Holder"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.8398" x="5" y="58.5938" /><a href="system-actors.html#Holder" target="_top" title="system-actors.html#Holder" xlink:actuate="onRequest" xlink:href="system-actors.html#Holder" xlink:show="new" xlink:title="system-actors.html#Holder" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="46.2383" x="43.8008" y="78.5889">Holder</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8398" x="12" y="94.8857">(as VHL Holder)</text></g><g class="participant participant-head" data-participant="Issuer"><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.5049" x="233.252" y="42.2969" /><a href="system-actors.html#Issuer" target="_top" title="system-actors.html#Issuer" xlink:actuate="onRequest" xlink:href="system-actors.html#Issuer" xlink:show="new" xlink:title="system-actors.html#Issuer" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="41.959" x="312.5249" y="62.292">Issuer</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.5049" x="240.252" y="78.5889">(as PCF Consent Recorder,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6035" x="283.4277" y="94.8857">as VHL Sharer)</text></g><g class="participant participant-head" data-participant="PCFConsentRegistry"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.875" x="577.9849" y="74.8906" /><a href="system-actors.html#ConsentRegistry" target="_top" title="system-actors.html#ConsentRegistry" xlink:actuate="onRequest" xlink:href="system-actors.html#ConsentRegistry" xlink:show="new" xlink:title="system-actors.html#ConsentRegistry" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="119.875" x="584.9849" y="94.8857">Consent Registry</text></a></g><g class="participant participant-head" data-participant="Receiver"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7969" x="721.8599" y="58.5938" /><a href="system-actors.html#Receiver" target="_top" title="system-actors.html#Receiver" xlink:actuate="onRequest" xlink:href="system-actors.html#Receiver" xlink:show="new" xlink:title="system-actors.html#Receiver" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="61.1953" x="760.6606" y="78.5889">Receiver</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7969" x="728.8599" y="94.8857">(as VHL Receiver)</text></g><g class="participant participant-head" data-participant="DocumentGenerator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.623" x="870.6567" y="74.8906" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.623" x="877.6567" y="94.8857">DocumentGenerator</text></g><g class="participant participant-head" data-participant="DocumentSigner"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.4346" x="1038.2798" y="74.8906" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4346" x="1045.2798" y="94.8857">DocumentSigner</text></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="673.7969" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="116.1875" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="116.1875" y2="789.9844" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="116.1875" y2="789.9844" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="116.1875" y2="116.1875" /></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="830.7891" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="830.7891" y2="1084.25" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="830.7891" y2="1084.25" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="1084.25" y2="1084.25" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#FFFFFF" height="665.7969" style="stroke:#181818;stroke-width:1;" width="10" x="328.5044" y="116.1875" /></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="316.5044,133.3203,326.5044,137.3203,316.5044,141.3203,320.5044,137.3203" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="322.5044" y1="137.3203" y2="137.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1079" x="78.9199" y="132.2544">(Optional)</text><a href="#consent-selection" target="_top" title="#consent-selection" xlink:actuate="onRequest" xlink:href="#consent-selection" xlink:show="new" xlink:title="#consent-selection" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="163.3442" x="148.1602" y="132.2544">Select consent directives</text></a></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="316.5044,177.5859,326.5044,181.5859,316.5044,185.5859,320.5044,181.5859" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="322.5044" y1="181.5859" y2="181.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.3218" x="78.9199" y="161.3872">Generate VHL request [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9048" x="78.9199" y="176.52">(as VHL Holder and VHL Sharer)</text></g><path d="M223.252,196.5859 L287.6948,196.5859 L287.6948,203.7188 L277.6948,213.7188 L223.252,213.7188 L223.252,196.5859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="235" style="stroke:#000000;stroke-width:1.5;" width="815.0278" x="223.252" y="196.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="238.252" y="209.6528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5649" x="302.6948" y="208.7964">[use reference architecture]</text><g class="message" data-participant-1="Issuer" data-participant-2="DocumentGenerator"><polygon fill="#181818" points="937.4683,245.9844,947.4683,249.9844,937.4683,253.9844,941.4683,249.9844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="943.4683" y1="249.9844" y2="249.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2725" x="345.5044" y="229.7856">Generate document request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="349.6367" y="244.9185">IPA [DocumentReference/$docref]</text></g><g class="message" data-participant-1="DocumentGenerator" data-participant-2="Issuer"><polygon fill="#181818" points="349.5044,290.25,339.5044,294.25,349.5044,298.25,345.5044,294.25" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="343.5044" x2="948.4683" y1="294.25" y2="294.25" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.9019" x="355.5044" y="274.0513">Generate document response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="359.6367" y="289.1841">IPA [DocumentReference/$docref]</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="353.6484" y2="353.6484" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="353.6484" y2="366.6484" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="366.6484" y2="366.6484" /><polygon fill="#181818" points="349.5044,362.6484,339.5044,366.6484,349.5044,370.6484,345.5044,366.6484" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.418" x="345.5044" y="318.3169">Process any selective disclosure directives</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.8931" x="345.5044" y="333.4497">to redact content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.7251" x="345.5044" y="348.5825">when generating doc</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.252" x2="1038.2798" y1="375.6484" y2="375.6484" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3652" x="228.252" y="385.8589">[use bespoke means]</text><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="410.5859" y2="410.5859" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="410.5859" y2="423.5859" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="423.5859" y2="423.5859" /><polygon fill="#181818" points="349.5044,419.5859,339.5044,423.5859,349.5044,427.5859,345.5044,423.5859" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6162" x="345.5044" y="405.52">generate document</text></g><path d="M213.252,445.5859 L376.8706,445.5859 L376.8706,452.7188 L366.8706,462.7188 L213.252,462.7188 L213.252,445.5859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="251" style="stroke:#000000;stroke-width:1.5;" width="1095.6006" x="213.252" y="445.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.6187" x="228.252" y="458.6528">optional signing</text><path d="M223.252,469.7188 L287.6948,469.7188 L287.6948,476.8516 L277.6948,486.8516 L223.252,486.8516 L223.252,469.7188" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="219.8672" style="stroke:#000000;stroke-width:1.5;" width="1075.6006" x="223.252" y="469.7188" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="238.252" y="482.7856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5649" x="302.6948" y="481.9292">[use reference architecture]</text><g class="message" data-participant-1="Issuer" data-participant-2="DocumentSigner"><polygon fill="#181818" points="1091.9971,503.9844,1101.9971,507.9844,1091.9971,511.9844,1095.9971,507.9844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="1097.9971" y1="507.9844" y2="507.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9121" x="345.5044" y="502.9185">Sign document request</text></g><g class="message" data-participant-1="DocumentSigner" data-participant-2="DocumentSigner"><line style="stroke:#181818;stroke-width:1;" x1="1103.9971" x2="1145.9971" y1="567.3828" y2="567.3828" /><line style="stroke:#181818;stroke-width:1;" x1="1145.9971" x2="1145.9971" y1="567.3828" y2="580.3828" /><line style="stroke:#181818;stroke-width:1;" x1="1104.9971" x2="1145.9971" y1="580.3828" y2="580.3828" /><polygon fill="#181818" points="1114.9971,576.3828,1104.9971,580.3828,1114.9971,584.3828,1110.9971,580.3828" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8555" x="1110.9971" y="532.0513">generate digital signatures</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.4492" x="1115.1294" y="547.1841">for verification and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.7656" x="1110.9971" y="562.3169">selective disclosure</text></g><g class="message" data-participant-1="DocumentSigner" data-participant-2="Issuer"><polygon fill="#181818" points="349.5044,620.6484,339.5044,624.6484,349.5044,628.6484,345.5044,624.6484" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="343.5044" x2="1102.9971" y1="624.6484" y2="624.6484" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.5342" x="355.5044" y="604.4497">return document manifest containing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.6509" x="359.6367" y="619.5825">redacted generated doc, signed collateral</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.252" x2="1298.8525" y1="633.6484" y2="633.6484" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3652" x="228.252" y="643.8589">[use bespoke means]</text><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="668.5859" y2="668.5859" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="668.5859" y2="681.5859" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="681.5859" y2="681.5859" /><polygon fill="#181818" points="349.5044,677.5859,339.5044,681.5859,349.5044,685.5859,345.5044,681.5859" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6685" x="345.5044" y="663.52">generate doc and signed collateral</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="724.7188" y2="724.7188" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="724.7188" y2="737.7188" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="737.7188" y2="737.7188" /><polygon fill="#181818" points="349.5044,733.7188,339.5044,737.7188,349.5044,741.7188,345.5044,737.7188" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.6479" x="345.5044" y="719.6528">generate VHL authorization mechanism</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Holder"><polygon fill="#181818" points="82.9199,777.9844,72.9199,781.9844,82.9199,785.9844,78.9199,781.9844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="332.5044" y1="781.9844" y2="781.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.9512" x="88.9199" y="761.7856">Generate VHL response [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.0371" x="88.9199" y="776.9185">(as  VHL Sharer and VHL Holder)</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66.0322" x="552.4424" y="814.1948">time passes</text><g class="message" data-participant-1="Holder" data-participant-2="Receiver"><polygon fill="#181818" points="779.2583,863.0547,789.2583,867.0547,779.2583,871.0547,783.2583,867.0547" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="785.2583" y1="867.0547" y2="867.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5972" x="78.9199" y="846.856">Provide VHL  [ITI-YY6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.584" x="83.0522" y="861.9888">(as VHL Holder and VHL Receiver)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,907.3203,334.5044,911.3203,344.5044,915.3203,340.5044,911.3203" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="790.2583" y1="911.3203" y2="911.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.2505" x="350.5044" y="891.1216">Request VHL Documents request [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="906.2544">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,951.5859,334.5044,955.5859,344.5044,959.5859,340.5044,955.5859" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="790.2583" y1="955.5859" y2="955.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.8799" x="350.5044" y="935.3872">Request VHL Documents response [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="950.52">(as VHL Receiver and VHL Sharer)</text></g><path d="M223.252,970.5859 L299.876,970.5859 L299.876,977.7188 L289.876,987.7188 L223.252,987.7188 L223.252,970.5859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="647.4048" x="223.252" y="970.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="238.252" y="983.6528">loop</text><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,1019.9844,334.5044,1023.9844,344.5044,1027.9844,340.5044,1023.9844" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="790.2583" y1="1023.9844" y2="1023.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.4775" x="350.5044" y="1003.7856">Request VHL Document request [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="1018.9185">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Receiver"><polygon fill="#181818" points="779.2583,1064.25,789.2583,1068.25,779.2583,1072.25,783.2583,1068.25" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="333.5044" x2="785.2583" y1="1068.25" y2="1068.25" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.1069" x="340.5044" y="1048.0513">Request VHL Document response [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="344.6367" y="1063.1841">(as VHL Sharer and VHL Receiver)</text></g></g></svg>
</figure>

<h4 id="--generate-and-use-vhl-with-consent-and-selective-disclosure"><a id="generate-use-vhl-with-consent"></a>  Generate and Use VHL with Consent and Selective Disclosure</h4>
<figure style="width:70%">
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" preserveAspectRatio="none" version="1.1" viewBox="0 0 1218 975" zoomAndPan="magnify"><defs /><g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="586.2656" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="78.8906" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="78.8906" y2="665.1563" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="78.8906" y2="665.1563" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="78.8906" y2="78.8906" /></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="705.9609" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="705.9609" y2="959.4219" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="705.9609" y2="959.4219" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="959.4219" y2="959.4219" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#FFFFFF" height="578.2656" style="stroke:#181818;stroke-width:1;" width="10" x="328.5044" y="78.8906" /></g><rect fill="none" height="162.6016" style="stroke:#000000;stroke-width:1.5;" width="651.9111" x="223.252" y="159.2891" /><rect fill="none" height="235.8672" style="stroke:#000000;stroke-width:1.5;" width="934.709" x="213.252" y="335.8906" /><rect fill="none" height="204.7344" style="stroke:#000000;stroke-width:1.5;" width="914.709" x="223.252" y="360.0234" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="989.1074" x="223.252" y="845.7578" /><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="62.9199" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="66" x2="66" y1="665.1563" y2="705.9609" /><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="62.9199" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="705.9609" y2="968.4219" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="329.5044" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="333.252" x2="333.252" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="333.252" x2="333.252" y1="665.1563" y2="705.9609" /><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="329.5044" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="333.252" x2="333.252" y1="705.9609" y2="968.4219" /></g><g><title>[[system-actors.html#ConsentRegistry Consent Registry]]</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="622.1523" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="625.2148" x2="625.2148" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="625.2148" x2="625.2148" y1="665.1563" y2="705.9609" /><g><title>[[system-actors.html#ConsentRegistry Consent Registry]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="622.1523" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="625.2148" x2="625.2148" y1="705.9609" y2="968.4219" /></g><g><title>Document Generator</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="780.1265" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="784.0898" x2="784.0898" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="784.0898" x2="784.0898" y1="665.1563" y2="705.9609" /><g><title>Document Generator</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="780.1265" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="784.0898" x2="784.0898" y1="705.9609" y2="968.4219" /></g><g><title>Document Signer</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="939.1055" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="942.1631" x2="942.1631" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="942.1631" x2="942.1631" y1="665.1563" y2="705.9609" /><g><title>Document Signer</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="939.1055" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="942.1631" x2="942.1631" y1="705.9609" y2="968.4219" /></g><g><title>[[system-actors.html#Receiver Receiver]]</title><rect fill="#000000" fill-opacity="0.00000" height="596.2656" width="8" x="1128.9609" y="68.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1132.5625" x2="1132.5625" y1="68.8906" y2="665.1563" /></g><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="1132.5625" x2="1132.5625" y1="665.1563" y2="705.9609" /><g><title>[[system-actors.html#Receiver Receiver]]</title><rect fill="#000000" fill-opacity="0.00000" height="262.4609" width="8" x="1128.9609" y="705.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1132.5625" x2="1132.5625" y1="705.9609" y2="968.4219" /></g><g class="participant participant-head" data-participant="Holder"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.8398" x="5" y="21.2969" /><a href="system-actors.html#Holder" target="_top" title="system-actors.html#Holder" xlink:actuate="onRequest" xlink:href="system-actors.html#Holder" xlink:show="new" xlink:title="system-actors.html#Holder" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="46.2383" x="43.8008" y="41.292">Holder</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8398" x="12" y="57.5889">(as VHL Holder)</text></g><g class="participant participant-head" data-participant="Issuer"><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.5049" x="233.252" y="5" /><a href="system-actors.html#Issuer" target="_top" title="system-actors.html#Issuer" xlink:actuate="onRequest" xlink:href="system-actors.html#Issuer" xlink:show="new" xlink:title="system-actors.html#Issuer" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="41.959" x="312.5249" y="24.9951">Issuer</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.5049" x="240.252" y="41.292">(as PCF Consent Recorder,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6035" x="283.4277" y="57.5889">as VHL Sharer)</text></g><g class="participant participant-head" data-participant="PCFConsentRegistry"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.875" x="559.2148" y="37.5938" /><a href="system-actors.html#ConsentRegistry" target="_top" title="system-actors.html#ConsentRegistry" xlink:actuate="onRequest" xlink:href="system-actors.html#ConsentRegistry" xlink:show="new" xlink:title="system-actors.html#ConsentRegistry" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="119.875" x="566.2148" y="57.5889">Consent Registry</text></a></g><g class="participant participant-head" data-participant="DocumentGenerator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.0732" x="703.0898" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.0732" x="710.0898" y="57.5889">Document Generator</text></g><g class="participant participant-head" data-participant="DocumentSigner"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.8848" x="875.1631" y="37.5938" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8848" x="882.1631" y="57.5889">Document Signer</text></g><g class="participant participant-head" data-participant="Receiver"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7969" x="1063.5625" y="21.2969" /><a href="system-actors.html#Receiver" target="_top" title="system-actors.html#Receiver" xlink:actuate="onRequest" xlink:href="system-actors.html#Receiver" xlink:show="new" xlink:title="system-actors.html#Receiver" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="61.1953" x="1102.3633" y="41.292">Receiver</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7969" x="1070.5625" y="57.5889">(as VHL Receiver)</text></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="586.2656" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="78.8906" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="78.8906" y2="665.1563" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="78.8906" y2="665.1563" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="78.8906" y2="78.8906" /></g><g><title>[[system-actors.html#Holder Holder]]</title><rect fill="#FFFFFF" height="253.4609" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="61.9199" y="705.9609" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="61.9199" y1="705.9609" y2="959.4219" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="71.9199" y1="705.9609" y2="959.4219" /><line style="stroke:#181818;stroke-width:1;" x1="61.9199" x2="71.9199" y1="959.4219" y2="959.4219" /></g><g><title>[[system-actors.html#Issuer Issuer]]</title><rect fill="#FFFFFF" height="578.2656" style="stroke:#181818;stroke-width:1;" width="10" x="328.5044" y="78.8906" /></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="316.5044,96.0234,326.5044,100.0234,316.5044,104.0234,320.5044,100.0234" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="322.5044" y1="100.0234" y2="100.0234" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1079" x="78.9199" y="94.9575">(Optional)</text><a href="#consent-selection" target="_top" title="#consent-selection" xlink:actuate="onRequest" xlink:href="#consent-selection" xlink:show="new" xlink:title="#consent-selection" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="163.3442" x="148.1602" y="94.9575">Select consent directives</text></a></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="316.5044,140.2891,326.5044,144.2891,316.5044,148.2891,320.5044,144.2891" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="322.5044" y1="144.2891" y2="144.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.3218" x="78.9199" y="124.0903">Generate VHL request [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9048" x="78.9199" y="139.2231">(as VHL Holder and VHL Sharer)</text></g><path d="M223.252,159.2891 L287.6948,159.2891 L287.6948,166.4219 L277.6948,176.4219 L223.252,176.4219 L223.252,159.2891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="162.6016" style="stroke:#000000;stroke-width:1.5;" width="651.9111" x="223.252" y="159.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="238.252" y="172.356">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5649" x="302.6948" y="171.4995">[use reference architecture]</text><g class="message" data-participant-1="Issuer" data-participant-2="DocumentGenerator"><polygon fill="#181818" points="772.1265,208.6875,782.1265,212.6875,772.1265,216.6875,776.1265,212.6875" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="778.1265" y1="212.6875" y2="212.6875" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2725" x="345.5044" y="192.4888">Generate document request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.7485" x="349.6367" y="207.6216">[DocumentReference/$docref]</text></g><g class="message" data-participant-1="DocumentGenerator" data-participant-2="Issuer"><polygon fill="#181818" points="349.5044,252.9531,339.5044,256.9531,349.5044,260.9531,345.5044,256.9531" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="343.5044" x2="783.1265" y1="256.9531" y2="256.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.9019" x="355.5044" y="236.7544">Generate document response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.7485" x="359.6367" y="251.8872">[DocumentReference/$docref]</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.252" x2="875.1631" y1="265.9531" y2="265.9531" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3652" x="228.252" y="276.1636">[use bespoke means]</text><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="300.8906" y2="300.8906" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="300.8906" y2="313.8906" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="313.8906" y2="313.8906" /><polygon fill="#181818" points="349.5044,309.8906,339.5044,313.8906,349.5044,317.8906,345.5044,313.8906" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6162" x="345.5044" y="295.8247">generate document</text></g><path d="M213.252,335.8906 L376.8706,335.8906 L376.8706,343.0234 L366.8706,353.0234 L213.252,353.0234 L213.252,335.8906" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="235.8672" style="stroke:#000000;stroke-width:1.5;" width="934.709" x="213.252" y="335.8906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.6187" x="228.252" y="348.9575">optional signing</text><path d="M223.252,360.0234 L287.6948,360.0234 L287.6948,367.1563 L277.6948,377.1563 L223.252,377.1563 L223.252,360.0234" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="204.7344" style="stroke:#000000;stroke-width:1.5;" width="914.709" x="223.252" y="360.0234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="238.252" y="373.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5649" x="302.6948" y="372.2339">[use reference architecture]</text><g class="message" data-participant-1="Issuer" data-participant-2="DocumentSigner"><polygon fill="#181818" points="931.1055,394.2891,941.1055,398.2891,931.1055,402.2891,935.1055,398.2891" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="937.1055" y1="398.2891" y2="398.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9121" x="345.5044" y="393.2231">Sign document request</text></g><g class="message" data-participant-1="DocumentSigner" data-participant-2="DocumentSigner"><line style="stroke:#181818;stroke-width:1;" x1="943.1055" x2="985.1055" y1="442.5547" y2="442.5547" /><line style="stroke:#181818;stroke-width:1;" x1="985.1055" x2="985.1055" y1="442.5547" y2="455.5547" /><line style="stroke:#181818;stroke-width:1;" x1="944.1055" x2="985.1055" y1="455.5547" y2="455.5547" /><polygon fill="#181818" points="954.1055,451.5547,944.1055,455.5547,954.1055,459.5547,950.1055,455.5547" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8555" x="950.1055" y="422.356">generate digital signatures</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.8594" x="954.2378" y="437.4888">for verification</text></g><g class="message" data-participant-1="DocumentSigner" data-participant-2="Issuer"><polygon fill="#181818" points="349.5044,495.8203,339.5044,499.8203,349.5044,503.8203,345.5044,499.8203" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="343.5044" x2="942.1055" y1="499.8203" y2="499.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.5342" x="355.5044" y="479.6216">return document manifest containing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.4629" x="359.6367" y="494.7544">generated doc, signed collateral</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.252" x2="1137.9609" y1="508.8203" y2="508.8203" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3652" x="228.252" y="519.0308">[use bespoke means]</text><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="543.7578" y2="543.7578" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="543.7578" y2="556.7578" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="556.7578" y2="556.7578" /><polygon fill="#181818" points="349.5044,552.7578,339.5044,556.7578,349.5044,560.7578,345.5044,556.7578" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6685" x="345.5044" y="538.6919">generate doc and signed collateral</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Issuer"><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="380.5044" y1="599.8906" y2="599.8906" /><line style="stroke:#181818;stroke-width:1;" x1="380.5044" x2="380.5044" y1="599.8906" y2="612.8906" /><line style="stroke:#181818;stroke-width:1;" x1="339.5044" x2="380.5044" y1="612.8906" y2="612.8906" /><polygon fill="#181818" points="349.5044,608.8906,339.5044,612.8906,349.5044,616.8906,345.5044,612.8906" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.6479" x="345.5044" y="594.8247">generate VHL authorization mechanism</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Holder"><polygon fill="#181818" points="82.9199,653.1563,72.9199,657.1563,82.9199,661.1563,78.9199,657.1563" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="76.9199" x2="332.5044" y1="657.1563" y2="657.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.9512" x="88.9199" y="636.9575">Generate VHL response [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.0371" x="88.9199" y="652.0903">(as  VHL Sharer and VHL Holder)</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66.0322" x="566.9243" y="689.3667">time passes</text><g class="message" data-participant-1="Holder" data-participant-2="Receiver"><polygon fill="#181818" points="1120.9609,738.2266,1130.9609,742.2266,1120.9609,746.2266,1124.9609,742.2266" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="71.9199" x2="1126.9609" y1="742.2266" y2="742.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5972" x="78.9199" y="722.0278">Provide VHL  [ITI-YY6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.584" x="83.0522" y="737.1606">(as VHL Holder and VHL Receiver)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,782.4922,334.5044,786.4922,344.5044,790.4922,340.5044,786.4922" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="1131.9609" y1="786.4922" y2="786.4922" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.2505" x="350.5044" y="766.2935">Request VHL Documents request [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="781.4263">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,826.7578,334.5044,830.7578,344.5044,834.7578,340.5044,830.7578" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="1131.9609" y1="830.7578" y2="830.7578" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.8799" x="350.5044" y="810.5591">Request VHL Documents response [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="825.6919">(as VHL Receiver and VHL Sharer)</text></g><path d="M223.252,845.7578 L299.876,845.7578 L299.876,852.8906 L289.876,862.8906 L223.252,862.8906 L223.252,845.7578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="989.1074" x="223.252" y="845.7578" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="238.252" y="858.8247">loop</text><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="344.5044,895.1563,334.5044,899.1563,344.5044,903.1563,340.5044,899.1563" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="338.5044" x2="1131.9609" y1="899.1563" y2="899.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.4775" x="350.5044" y="878.9575">Request VHL Document request [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="354.6367" y="894.0903">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Receiver"><polygon fill="#181818" points="1120.9609,939.4219,1130.9609,943.4219,1120.9609,947.4219,1124.9609,943.4219" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="333.5044" x2="1126.9609" y1="943.4219" y2="943.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.1069" x="340.5044" y="923.2231">Request VHL Document response [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="344.6367" y="938.356">(as VHL Sharer and VHL Receiver)</text></g></g></svg>
</figure>

<h4 id="-generate-and-use-vhl"><a id="generate-use-vhl"></a> Generate and Use VHL</h4>
<figure style="width:70%">
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" preserveAspectRatio="none" version="1.1" viewBox="0 0 647 420" zoomAndPan="magnify"><defs /><g><g><title>Issuer</title><rect fill="#FFFFFF" height="341.9922" style="stroke:#181818;stroke-width:1;" width="10" x="42.9795" y="62.5938" /></g><g><title>Holder</title><rect fill="#FFFFFF" height="341.9922" style="stroke:#181818;stroke-width:1;" width="10" x="297.0146" y="62.5938" /></g><g><title>Receiver</title><rect fill="#FFFFFF" height="261.4609" style="stroke:#181818;stroke-width:1;" width="10" x="556.731" y="143.125" /></g><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="631.1294" x="10" y="290.9219" /><g><title>Issuer</title><rect fill="#000000" fill-opacity="0.00000" height="360.9922" width="8" x="43.9795" y="52.5938" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="52.5938" y2="413.5859" /></g><g><title>Holder</title><rect fill="#000000" fill-opacity="0.00000" height="360.9922" width="8" x="298.0146" y="52.5938" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="301.0947" x2="301.0947" y1="52.5938" y2="413.5859" /></g><g><title>Receiver</title><rect fill="#000000" fill-opacity="0.00000" height="360.9922" width="8" x="557.731" y="52.5938" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="561.3325" x2="561.3325" y1="52.5938" y2="413.5859" /></g><g class="participant participant-head" data-participant="Issuer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.959" x="20" y="21.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.959" x="27" y="41.292">Issuer</text></g><g class="participant participant-head" data-participant="Holder"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.8398" x="240.0947" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2383" x="278.8955" y="24.9951">Holder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8398" x="247.0947" y="41.292">(as VHL Holder)</text></g><g class="participant participant-head" data-participant="Receiver"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7969" x="492.3325" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.1953" x="531.1333" y="24.9951">Receiver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7969" x="499.3325" y="41.292">(as VHL Receiver)</text></g><g><title>Issuer</title><rect fill="#FFFFFF" height="341.9922" style="stroke:#181818;stroke-width:1;" width="10" x="42.9795" y="62.5938" /></g><g><title>Holder</title><rect fill="#FFFFFF" height="341.9922" style="stroke:#181818;stroke-width:1;" width="10" x="297.0146" y="62.5938" /></g><g><title>Receiver</title><rect fill="#FFFFFF" height="261.4609" style="stroke:#181818;stroke-width:1;" width="10" x="556.731" y="143.125" /></g><g class="message" data-participant-1="Holder" data-participant-2="Issuer"><polygon fill="#181818" points="63.9795,94.8594,53.9795,98.8594,63.9795,102.8594,59.9795,98.8594" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="57.9795" x2="296.0146" y1="98.8594" y2="98.8594" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.3218" x="69.9795" y="78.6606">Generate VHL request [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9048" x="69.9795" y="93.7935">(as VHL Holder and VHL Sharer)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Holder"><polygon fill="#181818" points="285.0146,139.125,295.0146,143.125,285.0146,147.125,289.0146,143.125" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="52.9795" x2="291.0146" y1="143.125" y2="143.125" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.9512" x="59.9795" y="122.9263">Generate VHL response [ITI-YY3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0352" x="59.9795" y="138.0591">(as  VHL Sharere and VHL Holder)</text></g><g class="message" data-participant-1="Holder" data-participant-2="Receiver"><polygon fill="#181818" points="544.731,183.3906,554.731,187.3906,544.731,191.3906,548.731,187.3906" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="307.0146" x2="550.731" y1="187.3906" y2="187.3906" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5972" x="314.0146" y="167.1919">Provide VHL  [ITI-YY6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.584" x="318.147" y="182.3247">(as VHL Holder and VHL Receiver)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="63.9795,227.6563,53.9795,231.6563,63.9795,235.6563,59.9795,231.6563" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="57.9795" x2="555.731" y1="231.6563" y2="231.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.2505" x="69.9795" y="211.4575">Request VHL Documents request [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="74.1118" y="226.5903">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="63.9795,271.9219,53.9795,275.9219,63.9795,279.9219,59.9795,275.9219" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="57.9795" x2="555.731" y1="275.9219" y2="275.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.8799" x="69.9795" y="255.7231">Request VHL Documents response [ITI-YY4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="74.1118" y="270.856">(as VHL Receiver and VHL Sharer)</text></g><path d="M10,290.9219 L86.624,290.9219 L86.624,298.0547 L76.624,308.0547 L10,308.0547 L10,290.9219" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="105.6641" style="stroke:#000000;stroke-width:1.5;" width="631.1294" x="10" y="290.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="25" y="303.9888">loop</text><g class="message" data-participant-1="Receiver" data-participant-2="Issuer"><polygon fill="#181818" points="63.9795,340.3203,53.9795,344.3203,63.9795,348.3203,59.9795,344.3203" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="57.9795" x2="555.731" y1="344.3203" y2="344.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.4775" x="69.9795" y="324.1216">Request VHL Document request [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="74.1118" y="339.2544">(as VHL Receiver and VHL Sharer)</text></g><g class="message" data-participant-1="Issuer" data-participant-2="Receiver"><polygon fill="#181818" points="544.731,384.5859,554.731,388.5859,544.731,392.5859,548.731,388.5859" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="52.9795" x2="550.731" y1="388.5859" y2="388.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.1069" x="59.9795" y="368.3872">Request VHL Document response [ITI-YY5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7935" x="64.1118" y="383.52">(as VHL Sharer and VHL Receiver)</text></g></g></svg>
</figure>




</div>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /row -->
</div>  <!-- /container -->
</div>  <!-- /segment-content -->

<script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

<script type="text/javascript" src="assets/js/window-hash.js"> </script>
<a name="bottom"> </a>
<div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
<div class="container">  <!-- container -->

<div class="inner-wrapper">
  <p>
    IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="http://who.int">WHO</a>.  Package smart.who.int.trust-phw#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Tue, Oct 7, 2025 06:48+0000">2025-10-07</span>
    <br/>
    <span style="color: var(--footer-highlight-text-color)">
                Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
| <a style="color: #81BEF7" target="_blank" href="http://smart.who.int/trust-phw/history.html">Version History</a> | <a style="color: #81BEF7" rel="license" href="license.html">License</a>
    </span>
  </p>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /container -->
</div>  <!-- /segment-footer -->

<div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
<div class="container">  <!-- container -->
</div>  <!-- /container -->
</div>  <!-- /segment-post-footer -->

<!-- JS and analytics only. -->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
<script type="text/javascript" src="assets/js/respond.min.js"> </script>
<script type="text/javascript" src="assets/js/anchor.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
<script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
<!-- Analytics Below
================================================== -->




