{
  "resourceType" : "Library",
  "id" : "HIVB9DTLogic",
  "meta" : {
    "profile" : ["http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary",
    "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary",
    "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library",
    "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-module"]
  },
  "text" : {
    "status" : "extensions",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<div>\n    <table class=\"grid dict\">\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">HIV.B9.DT Logic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">HIVB9DTLogic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">1.0.0</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\"><a href=\"Library-HIVB9DTLogic.html\">HIV.B9.DT Logic</a></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Status: </b></th>\n            <td style=\"padding-left: 4px;\">draft</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Experimental: </b></th>\n            <td style=\"padding-left: 4px;\">true</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span><a href=\"http://terminology.hl7.org/6.0.2/CodeSystem-library-type.html\">http://terminology.hl7.org/CodeSystem/library-type</a></span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>logic-library</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-07-08 23:21:58+0200</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">WHO</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\"><div><p>HIV.B9.DT Logic</p>\n</div></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><a id=\"cql-content\"><b>Content: </b></a> text/cql</th></tr>\n              <tr><td><pre><code class=\"language-cql\">/*\nLibrary: HIV.B9.DT Logic\n\n@DecisionID: HIV.B9.DT.HIV Re-testing Recommendations\n@BusinessRule: HIV restesting recommendations\n@Trigger: HIV.B9 Determine recommended services\n@HitPolicy: Rule order\n@Description: Determine retest recommendation\n\nData Concepts:\n * HIV.B.DE115: HIV status | HIV status reported after applying the national HIV testing algorithm. No single HIV test can provide an HIV-positive diagnosis.\n * HIV.B.DE33: Partner HIV status (reported) | The HIV status of the client's partner.\n * HIV.C.DE55: Sex partner's HIV treatment status | Treatment adherence of client's sex partner for partners that are HIV-positive\n * HIV.Config.DE12: HIV burden of the setting | HIV burden of the setting (high or low) based on the national HIV prevalence or where the HIV prevalence and/or incidence in a geographical setting is higher than national prevalence and, therefore, needs priority in the HIV response\n * HIV.B.DE49: Key population member | Client is a member of a key population that has an increased risk of HIV\n * HIV.B.DE29: Currently pregnant | Client is currently pregnant\n * HIV.D.DE939: TB diagnosis result | Final result of the TB investigation (bacteriological and/or clinical)\n * HIV.D.DE282: Presumptive TB | Client's comorbidities or coinfections or symptoms of these include presumptive TB\n * HIV.C.DE10: Currently on PrEP | The client is currently taking PrEP. Oral pre-exposure prophylaxis (PrEP) of HIV is the use of ARV drugs by people who are not infected with HIV to block the acquisition of HIV.\n * HIV.B.DE225: At elevated risk for HIV acquisition | Client is at elevated risk for HIV acquisition\n*/\nlibrary HIVB9DTLogic\n\n// Included Libraries\nusing FHIR version '4.0.1'\n\ninclude HIVCommon version '0.0.1' called Common\ninclude HIVConcepts called Concepts\ninclude HIVConfig called Config\ninclude HIVEncounterElements called Elements\ninclude FHIRHelpers version '4.0.1'\n\ninclude WHOCommon called WCom\n// Included for PlanDefinition\ninclude WHOConcepts called WCx\ninclude WHOEncounterElements called WElm\n\nparameter Today Date default Today()\n\ncontext Patient\n\n /*\n  @input: &quot;HIV status negative or unknown&quot;\n  @pseudocode: &quot;HIV status&quot; IN 'HIV-negative', 'Unknown'\n  */\ndefine &quot;HIV status negative or unknown&quot;:\n  exists(Elements.&quot;HIV Status Observation&quot; S\n    where S.value ~ Concepts.&quot;HIV-negative&quot;\n       or S.value ~ Concepts.&quot;Unknown&quot;) \n\n /*\n  @input: &quot;Partner HIV reported positive&quot;\n  @pseudocode: &quot;Partner HIV status (reported)&quot;='HIV-positive'\n  */\ndefine &quot;Partner HIV positive&quot;:\n  exists(Elements.&quot;Partner HIV status reported Observation&quot; O\n    where O.value ~ Concepts.&quot;HIV-positive&quot;)\n\n /*\n  @input: &quot;Sex partner's HIV treatment status is partner not virally suppressed&quot;\n  @pseudocode: &quot;Sex partner's HIV treatment status&quot;='Partner is not virally suppressed'\n  */\ndefine &quot;Sex partner's HIV treatment status is partner not virally suppressed&quot;:\n  exists(Elements.&quot;Sex partners HIV treatment status&quot; O\n    where O.value ~ Concepts.&quot;Partner is not virally suppressed&quot;)\n\n /*\n  @input: &quot;HIV burden of setting is high HIV burden setting&quot;\n  @pseudocode: &quot;HIV burden of the setting&quot;='High HIV burden setting'\n  */\ndefine &quot;HIV burden of setting is high HIV burden setting&quot;:\n  Config.&quot;HIV burden of setting&quot; ~ Concepts.&quot;High HIV burden setting&quot;\n\n /*\n  @input: &quot;HIV burden of setting is low HIV burden setting&quot;\n  @pseudocode: &quot;HIV burden of the setting&quot;='Low HIV burden setting'\n  */\ndefine &quot;HIV burden of setting is low HIV burden setting&quot;:\n  Config.&quot;HIV burden of setting&quot; ~ Concepts.&quot;Low HIV burden setting&quot;\n\n /*\n  @input: &quot;Key population member&quot;\n  @pseudocode: &quot;Key population member&quot; = TRUE\n  */\ndefine &quot;Key population member&quot;:\n  Elements.&quot;Is Key population member B.DE49&quot;\n\n /*\n  @input: &quot;Currently pregnant&quot;\n  @pseudocode: &quot;Currently pregnant&quot;=True\n  */\ndefine &quot;Currently pregnant&quot;:\n  exists(WElm.&quot;Pregnant Observation&quot;)\n\n /*\n  @input: &quot;TB diagnosis result is diagnosed TB&quot;\n  @pseudocode: &quot;Currently pregnant&quot;=True\n  */\ndefine &quot;TB diagnosis result is diagnosed TB&quot;:\n  exists(Elements.&quot;TB diagnosis result Observation&quot; O\n    where O.value ~ Concepts.&quot;Diagnosed TB&quot;)\n\n /*\n  @input: &quot;Presumptive TB&quot;\n  @pseudocode: &quot;Presumptive TB&quot;=True\n  */\ndefine &quot;Presumptive TB&quot;:\n  exists(Elements.&quot;Presumptive TB D.DE282 Observation&quot; O\n    where O.value is true)\n\n/*\n  @input: &quot;Currently on PrEP&quot;\n  @pseudocode: &quot;Currently on PrEP&quot;=True\n  */\ndefine &quot;Currently on PrEP&quot;:\n  exists(Elements.&quot;Currently on PrEP Observation&quot; O\n    where O.value is true)\n\n /*\n  @input: &quot;At elevated risk for HIV acquisition&quot;\n  @pseudocode: &quot;At elevated risk for HIV acquisition&quot;=True\n  */\ndefine &quot;At elevated risk for HIV acquisition&quot;:\n  exists(Elements.&quot;At elevated risk for HIV acquisition PRV.DE1 Observation&quot; O\n    where O.value is true)\n\n /*\n  @output: &quot;Schedule an annual follow-up test&quot;\n  @pseudocode: &quot;Follow-up test recommended date&quot; = &quot;Visit date&quot; + 1 year\n  */\ndefine &quot;Schedule an annual follow-up test&quot;:\n  &quot;HIV status negative or unknown&quot; and\n    case\n    when &quot;Partner has HIV and is not virally suppressed&quot;\n      then true\n    when &quot;HIV burden of setting is high HIV burden setting&quot;\n      then true\n    when &quot;Key population member&quot;\n      then true\n    when &quot;At elevated risk for HIV acquisition&quot;\n      then true\n    else false\n    end\n\n/*\n @output: &quot;Follow-up test recommended&quot;\n @pseudocode: N/A\n */\ndefine &quot;Follow-up test recommended&quot;:\n  &quot;HIV status negative or unknown&quot; and\n  case\n  when &quot;TB diagnosis result is diagnosed TB&quot;\n    then true\n  when &quot;Presumptive TB&quot;\n    then true\n  else false\n  end\n\n/*\n @output: &quot;Schedule quarterly retesting for PrEP users&quot;\n @pseudocode: N/A\n */\ndefine &quot;Schedule quarterly retesting for PrEP users&quot;:\n  &quot;HIV status negative or unknown&quot; and &quot;Currently on PrEP&quot;\n\n/*\n @output: &quot;Schedule an HIV test, syphilis test, hepatitis B test as early as possible during this pregnancy&quot;\n @pseudocode: N/A\n */\ndefine &quot;Schedule an HIV test, syphilis test, hepatitis B test as early as possible during this pregnancy&quot;:\n  &quot;Pregnant in high HIV burden setting&quot;\n\n/*\n @output: &quot;Schedule a 'Follow-up test recommended date during a third trimester visit&quot;\n @pseudocode: N/A\n */\ndefine &quot;Schedule a 'Follow-up test recommended date' during a third trimester visit&quot;:\n  &quot;Pregnant in high HIV burden setting&quot;\n\n/*\n @output: &quot;Schedule a 'Follow-up test recommended date during a third trimester visit&quot;\n @pseudocode: N/A\n */\ndefine &quot;Schedule a 'Follow-up test recommended date' at first ANC contact date&quot;:\n  &quot;Pregnant in low HIV burden setting&quot; and \n  case\n  when &quot;Key population member&quot;\n    then true\n  when &quot;Partner has HIV and is not virally suppressed&quot;\n    then true\n  when &quot;At elevated risk for HIV acquisition&quot;\n    then true\n  else false\n  end\n\n/*\n @dynamicValue: Guidance\n */\ndefine &quot;Guidance&quot;:\n  Combine({\n    if &quot;Schedule an annual follow-up test&quot;\n      then 'Schedule an annual follow-up test.  \n\n  WHO guidance recommends annual retesting for people who have ongoing HIV-related risks in all settings. These include people with a known HIV-positive partner who is not virally suppressed on ART.'\n      else '',\n    if &quot;Follow-up test recommended&quot;\n      then 'Recommend a follow-up test.  \n\n  In certain conditions and situations, individuals who have been tested for HIV in the past can be advised to retest. These include: \n  * Individuals presenting with a diagnosis or receiving treatment for STIs or viral hepatitis, \n  * Individuals with a confirmed or presumptive TB diagnosis, \n  * Outpatients presenting with clinical conditions or symptoms indicative of HIV, individuals with recent HIV risk exposure.'\n      else '',\n    if &quot;Schedule quarterly retesting for PrEP users&quot;\n      then 'Schedule quarterly retesting for PrEP users.'\n      else '',\n    if &quot;Schedule an HIV test, syphilis test, hepatitis B test as early as possible during this pregnancy&quot;\n      then 'Schedule an HIV test, syphilis test, hepatitis B test as early as possible during this pregnancy\n\n  All pregnant women should be tested for HIV as well as syphilis and hepatitis B virus at least once and as early as possible during pregnancy.'\n      else '',\n    if &quot;Schedule a 'Follow-up test recommended date' at first ANC contact date&quot;\n      then 'In low HIV burden settings, retesting all pregnant women is not warranted unless focused among women from key populations or at high ongoing risk, such as those from key populations or with partners with HIV who are not virally suppressed. Countries could consider one additional retest in the post-partum period, such as at 14 weeks, six months or nine months for women in high HIV burden or incidence districts or provinces, key populations or women with partners with HIV who are not virally suppressed.'\n      else ''\n  })\n\n/*\n @dynamicValue: &quot;Date to schedule&quot;\n */\ndefine &quot;Schedule Follow-up Date&quot;:\n  case\n  when &quot;Schedule an annual follow-up test&quot;\n    then Today + 1 years\n  when &quot;Schedule quarterly retesting for PrEP users&quot;\n    then Today + 3 months\n  else null\n  end\n\n// Helper Logic\ndefine &quot;Pregnant in high HIV burden setting&quot;:\n  &quot;HIV status negative or unknown&quot; and\n  &quot;HIV burden of setting is high HIV burden setting&quot; and\n  &quot;Currently pregnant&quot;\n\ndefine &quot;Pregnant in low HIV burden setting&quot;:\n  &quot;HIV status negative or unknown&quot; and\n  &quot;HIV burden of setting is low HIV burden setting&quot; and\n  &quot;Currently pregnant&quot;\n\ndefine &quot;Partner has HIV and is not virally suppressed&quot;:\n  &quot;Partner HIV positive&quot; and &quot;Sex partner's HIV treatment status is partner not virally suppressed&quot;\n\n</code></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n        \n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><b>Content: </b> application/elm+xml</th></tr>\n              <tr><td><pre><code/></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n    </table>\n</div>\n</div>"
  },
  "extension" : [{
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-knowledgeCapability",
    "valueCode" : "computable"
  }],
  "url" : "http://smart.who.int/hiv/Library/HIVB9DTLogic",
  "version" : "1.0.0",
  "name" : "HIVB9DTLogic",
  "title" : "HIV.B9.DT Logic",
  "status" : "draft",
  "experimental" : true,
  "type" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/library-type",
      "code" : "logic-library"
    }]
  },
  "date" : "2025-07-08T23:21:58+02:00",
  "publisher" : "WHO",
  "contact" : [{
    "name" : "WHO",
    "telecom" : [{
      "system" : "url",
      "value" : "http://who.int"
    }]
  }],
  "description" : "HIV.B9.DT Logic",
  "content" : [{
    "contentType" : "text/cql",
    "data" : "LyoKTGlicmFyeTogSElWLkI5LkRUIExvZ2ljCgpARGVjaXNpb25JRDogSElWLkI5LkRULkhJViBSZS10ZXN0aW5nIFJlY29tbWVuZGF0aW9ucwpAQnVzaW5lc3NSdWxlOiBISVYgcmVzdGVzdGluZyByZWNvbW1lbmRhdGlvbnMKQFRyaWdnZXI6IEhJVi5COSBEZXRlcm1pbmUgcmVjb21tZW5kZWQgc2VydmljZXMKQEhpdFBvbGljeTogUnVsZSBvcmRlcgpARGVzY3JpcHRpb246IERldGVybWluZSByZXRlc3QgcmVjb21tZW5kYXRpb24KCkRhdGEgQ29uY2VwdHM6CiAqIEhJVi5CLkRFMTE1OiBISVYgc3RhdHVzIHwgSElWIHN0YXR1cyByZXBvcnRlZCBhZnRlciBhcHBseWluZyB0aGUgbmF0aW9uYWwgSElWIHRlc3RpbmcgYWxnb3JpdGhtLiBObyBzaW5nbGUgSElWIHRlc3QgY2FuIHByb3ZpZGUgYW4gSElWLXBvc2l0aXZlIGRpYWdub3Npcy4KICogSElWLkIuREUzMzogUGFydG5lciBISVYgc3RhdHVzIChyZXBvcnRlZCkgfCBUaGUgSElWIHN0YXR1cyBvZiB0aGUgY2xpZW50J3MgcGFydG5lci4KICogSElWLkMuREU1NTogU2V4IHBhcnRuZXIncyBISVYgdHJlYXRtZW50IHN0YXR1cyB8IFRyZWF0bWVudCBhZGhlcmVuY2Ugb2YgY2xpZW50J3Mgc2V4IHBhcnRuZXIgZm9yIHBhcnRuZXJzIHRoYXQgYXJlIEhJVi1wb3NpdGl2ZQogKiBISVYuQ29uZmlnLkRFMTI6IEhJViBidXJkZW4gb2YgdGhlIHNldHRpbmcgfCBISVYgYnVyZGVuIG9mIHRoZSBzZXR0aW5nIChoaWdoIG9yIGxvdykgYmFzZWQgb24gdGhlIG5hdGlvbmFsIEhJViBwcmV2YWxlbmNlIG9yIHdoZXJlIHRoZSBISVYgcHJldmFsZW5jZSBhbmQvb3IgaW5jaWRlbmNlIGluIGEgZ2VvZ3JhcGhpY2FsIHNldHRpbmcgaXMgaGlnaGVyIHRoYW4gbmF0aW9uYWwgcHJldmFsZW5jZSBhbmQsIHRoZXJlZm9yZSwgbmVlZHMgcHJpb3JpdHkgaW4gdGhlIEhJViByZXNwb25zZQogKiBISVYuQi5ERTQ5OiBLZXkgcG9wdWxhdGlvbiBtZW1iZXIgfCBDbGllbnQgaXMgYSBtZW1iZXIgb2YgYSBrZXkgcG9wdWxhdGlvbiB0aGF0IGhhcyBhbiBpbmNyZWFzZWQgcmlzayBvZiBISVYKICogSElWLkIuREUyOTogQ3VycmVudGx5IHByZWduYW50IHwgQ2xpZW50IGlzIGN1cnJlbnRseSBwcmVnbmFudAogKiBISVYuRC5ERTkzOTogVEIgZGlhZ25vc2lzIHJlc3VsdCB8IEZpbmFsIHJlc3VsdCBvZiB0aGUgVEIgaW52ZXN0aWdhdGlvbiAoYmFjdGVyaW9sb2dpY2FsIGFuZC9vciBjbGluaWNhbCkKICogSElWLkQuREUyODI6IFByZXN1bXB0aXZlIFRCIHwgQ2xpZW50J3MgY29tb3JiaWRpdGllcyBvciBjb2luZmVjdGlvbnMgb3Igc3ltcHRvbXMgb2YgdGhlc2UgaW5jbHVkZSBwcmVzdW1wdGl2ZSBUQgogKiBISVYuQy5ERTEwOiBDdXJyZW50bHkgb24gUHJFUCB8IFRoZSBjbGllbnQgaXMgY3VycmVudGx5IHRha2luZyBQckVQLiBPcmFsIHByZS1leHBvc3VyZSBwcm9waHlsYXhpcyAoUHJFUCkgb2YgSElWIGlzIHRoZSB1c2Ugb2YgQVJWIGRydWdzIGJ5IHBlb3BsZSB3aG8gYXJlIG5vdCBpbmZlY3RlZCB3aXRoIEhJViB0byBibG9jayB0aGUgYWNxdWlzaXRpb24gb2YgSElWLgogKiBISVYuQi5ERTIyNTogQXQgZWxldmF0ZWQgcmlzayBmb3IgSElWIGFjcXVpc2l0aW9uIHwgQ2xpZW50IGlzIGF0IGVsZXZhdGVkIHJpc2sgZm9yIEhJViBhY3F1aXNpdGlvbgoqLwpsaWJyYXJ5IEhJVkI5RFRMb2dpYwoKLy8gSW5jbHVkZWQgTGlicmFyaWVzCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEhJVkNvbW1vbiB2ZXJzaW9uICcwLjAuMScgY2FsbGVkIENvbW1vbgppbmNsdWRlIEhJVkNvbmNlcHRzIGNhbGxlZCBDb25jZXB0cwppbmNsdWRlIEhJVkNvbmZpZyBjYWxsZWQgQ29uZmlnCmluY2x1ZGUgSElWRW5jb3VudGVyRWxlbWVudHMgY2FsbGVkIEVsZW1lbnRzCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIFdIT0NvbW1vbiBjYWxsZWQgV0NvbQovLyBJbmNsdWRlZCBmb3IgUGxhbkRlZmluaXRpb24KaW5jbHVkZSBXSE9Db25jZXB0cyBjYWxsZWQgV0N4CmluY2x1ZGUgV0hPRW5jb3VudGVyRWxlbWVudHMgY2FsbGVkIFdFbG0KCnBhcmFtZXRlciBUb2RheSBEYXRlIGRlZmF1bHQgVG9kYXkoKQoKY29udGV4dCBQYXRpZW50CgogLyoKICBAaW5wdXQ6ICJISVYgc3RhdHVzIG5lZ2F0aXZlIG9yIHVua25vd24iCiAgQHBzZXVkb2NvZGU6ICJISVYgc3RhdHVzIiBJTiAnSElWLW5lZ2F0aXZlJywgJ1Vua25vd24nCiAgKi8KZGVmaW5lICJISVYgc3RhdHVzIG5lZ2F0aXZlIG9yIHVua25vd24iOgogIGV4aXN0cyhFbGVtZW50cy4iSElWIFN0YXR1cyBPYnNlcnZhdGlvbiIgUwogICAgd2hlcmUgUy52YWx1ZSB+IENvbmNlcHRzLiJISVYtbmVnYXRpdmUiCiAgICAgICBvciBTLnZhbHVlIH4gQ29uY2VwdHMuIlVua25vd24iKSAKCiAvKgogIEBpbnB1dDogIlBhcnRuZXIgSElWIHJlcG9ydGVkIHBvc2l0aXZlIgogIEBwc2V1ZG9jb2RlOiAiUGFydG5lciBISVYgc3RhdHVzIChyZXBvcnRlZCkiPSdISVYtcG9zaXRpdmUnCiAgKi8KZGVmaW5lICJQYXJ0bmVyIEhJViBwb3NpdGl2ZSI6CiAgZXhpc3RzKEVsZW1lbnRzLiJQYXJ0bmVyIEhJViBzdGF0dXMgcmVwb3J0ZWQgT2JzZXJ2YXRpb24iIE8KICAgIHdoZXJlIE8udmFsdWUgfiBDb25jZXB0cy4iSElWLXBvc2l0aXZlIikKCiAvKgogIEBpbnB1dDogIlNleCBwYXJ0bmVyJ3MgSElWIHRyZWF0bWVudCBzdGF0dXMgaXMgcGFydG5lciBub3QgdmlyYWxseSBzdXBwcmVzc2VkIgogIEBwc2V1ZG9jb2RlOiAiU2V4IHBhcnRuZXIncyBISVYgdHJlYXRtZW50IHN0YXR1cyI9J1BhcnRuZXIgaXMgbm90IHZpcmFsbHkgc3VwcHJlc3NlZCcKICAqLwpkZWZpbmUgIlNleCBwYXJ0bmVyJ3MgSElWIHRyZWF0bWVudCBzdGF0dXMgaXMgcGFydG5lciBub3QgdmlyYWxseSBzdXBwcmVzc2VkIjoKICBleGlzdHMoRWxlbWVudHMuIlNleCBwYXJ0bmVycyBISVYgdHJlYXRtZW50IHN0YXR1cyIgTwogICAgd2hlcmUgTy52YWx1ZSB+IENvbmNlcHRzLiJQYXJ0bmVyIGlzIG5vdCB2aXJhbGx5IHN1cHByZXNzZWQiKQoKIC8qCiAgQGlucHV0OiAiSElWIGJ1cmRlbiBvZiBzZXR0aW5nIGlzIGhpZ2ggSElWIGJ1cmRlbiBzZXR0aW5nIgogIEBwc2V1ZG9jb2RlOiAiSElWIGJ1cmRlbiBvZiB0aGUgc2V0dGluZyI9J0hpZ2ggSElWIGJ1cmRlbiBzZXR0aW5nJwogICovCmRlZmluZSAiSElWIGJ1cmRlbiBvZiBzZXR0aW5nIGlzIGhpZ2ggSElWIGJ1cmRlbiBzZXR0aW5nIjoKICBDb25maWcuIkhJViBidXJkZW4gb2Ygc2V0dGluZyIgfiBDb25jZXB0cy4iSGlnaCBISVYgYnVyZGVuIHNldHRpbmciCgogLyoKICBAaW5wdXQ6ICJISVYgYnVyZGVuIG9mIHNldHRpbmcgaXMgbG93IEhJViBidXJkZW4gc2V0dGluZyIKICBAcHNldWRvY29kZTogIkhJViBidXJkZW4gb2YgdGhlIHNldHRpbmciPSdMb3cgSElWIGJ1cmRlbiBzZXR0aW5nJwogICovCmRlZmluZSAiSElWIGJ1cmRlbiBvZiBzZXR0aW5nIGlzIGxvdyBISVYgYnVyZGVuIHNldHRpbmciOgogIENvbmZpZy4iSElWIGJ1cmRlbiBvZiBzZXR0aW5nIiB+IENvbmNlcHRzLiJMb3cgSElWIGJ1cmRlbiBzZXR0aW5nIgoKIC8qCiAgQGlucHV0OiAiS2V5IHBvcHVsYXRpb24gbWVtYmVyIgogIEBwc2V1ZG9jb2RlOiAiS2V5IHBvcHVsYXRpb24gbWVtYmVyIiA9IFRSVUUKICAqLwpkZWZpbmUgIktleSBwb3B1bGF0aW9uIG1lbWJlciI6CiAgRWxlbWVudHMuIklzIEtleSBwb3B1bGF0aW9uIG1lbWJlciBCLkRFNDkiCgogLyoKICBAaW5wdXQ6ICJDdXJyZW50bHkgcHJlZ25hbnQiCiAgQHBzZXVkb2NvZGU6ICJDdXJyZW50bHkgcHJlZ25hbnQiPVRydWUKICAqLwpkZWZpbmUgIkN1cnJlbnRseSBwcmVnbmFudCI6CiAgZXhpc3RzKFdFbG0uIlByZWduYW50IE9ic2VydmF0aW9uIikKCiAvKgogIEBpbnB1dDogIlRCIGRpYWdub3NpcyByZXN1bHQgaXMgZGlhZ25vc2VkIFRCIgogIEBwc2V1ZG9jb2RlOiAiQ3VycmVudGx5IHByZWduYW50Ij1UcnVlCiAgKi8KZGVmaW5lICJUQiBkaWFnbm9zaXMgcmVzdWx0IGlzIGRpYWdub3NlZCBUQiI6CiAgZXhpc3RzKEVsZW1lbnRzLiJUQiBkaWFnbm9zaXMgcmVzdWx0IE9ic2VydmF0aW9uIiBPCiAgICB3aGVyZSBPLnZhbHVlIH4gQ29uY2VwdHMuIkRpYWdub3NlZCBUQiIpCgogLyoKICBAaW5wdXQ6ICJQcmVzdW1wdGl2ZSBUQiIKICBAcHNldWRvY29kZTogIlByZXN1bXB0aXZlIFRCIj1UcnVlCiAgKi8KZGVmaW5lICJQcmVzdW1wdGl2ZSBUQiI6CiAgZXhpc3RzKEVsZW1lbnRzLiJQcmVzdW1wdGl2ZSBUQiBELkRFMjgyIE9ic2VydmF0aW9uIiBPCiAgICB3aGVyZSBPLnZhbHVlIGlzIHRydWUpCgovKgogIEBpbnB1dDogIkN1cnJlbnRseSBvbiBQckVQIgogIEBwc2V1ZG9jb2RlOiAiQ3VycmVudGx5IG9uIFByRVAiPVRydWUKICAqLwpkZWZpbmUgIkN1cnJlbnRseSBvbiBQckVQIjoKICBleGlzdHMoRWxlbWVudHMuIkN1cnJlbnRseSBvbiBQckVQIE9ic2VydmF0aW9uIiBPCiAgICB3aGVyZSBPLnZhbHVlIGlzIHRydWUpCgogLyoKICBAaW5wdXQ6ICJBdCBlbGV2YXRlZCByaXNrIGZvciBISVYgYWNxdWlzaXRpb24iCiAgQHBzZXVkb2NvZGU6ICJBdCBlbGV2YXRlZCByaXNrIGZvciBISVYgYWNxdWlzaXRpb24iPVRydWUKICAqLwpkZWZpbmUgIkF0IGVsZXZhdGVkIHJpc2sgZm9yIEhJViBhY3F1aXNpdGlvbiI6CiAgZXhpc3RzKEVsZW1lbnRzLiJBdCBlbGV2YXRlZCByaXNrIGZvciBISVYgYWNxdWlzaXRpb24gUFJWLkRFMSBPYnNlcnZhdGlvbiIgTwogICAgd2hlcmUgTy52YWx1ZSBpcyB0cnVlKQoKIC8qCiAgQG91dHB1dDogIlNjaGVkdWxlIGFuIGFubnVhbCBmb2xsb3ctdXAgdGVzdCIKICBAcHNldWRvY29kZTogIkZvbGxvdy11cCB0ZXN0IHJlY29tbWVuZGVkIGRhdGUiID0gIlZpc2l0IGRhdGUiICsgMSB5ZWFyCiAgKi8KZGVmaW5lICJTY2hlZHVsZSBhbiBhbm51YWwgZm9sbG93LXVwIHRlc3QiOgogICJISVYgc3RhdHVzIG5lZ2F0aXZlIG9yIHVua25vd24iIGFuZAogICAgY2FzZQogICAgd2hlbiAiUGFydG5lciBoYXMgSElWIGFuZCBpcyBub3QgdmlyYWxseSBzdXBwcmVzc2VkIgogICAgICB0aGVuIHRydWUKICAgIHdoZW4gIkhJViBidXJkZW4gb2Ygc2V0dGluZyBpcyBoaWdoIEhJViBidXJkZW4gc2V0dGluZyIKICAgICAgdGhlbiB0cnVlCiAgICB3aGVuICJLZXkgcG9wdWxhdGlvbiBtZW1iZXIiCiAgICAgIHRoZW4gdHJ1ZQogICAgd2hlbiAiQXQgZWxldmF0ZWQgcmlzayBmb3IgSElWIGFjcXVpc2l0aW9uIgogICAgICB0aGVuIHRydWUKICAgIGVsc2UgZmFsc2UKICAgIGVuZAoKLyoKIEBvdXRwdXQ6ICJGb2xsb3ctdXAgdGVzdCByZWNvbW1lbmRlZCIKIEBwc2V1ZG9jb2RlOiBOL0EKICovCmRlZmluZSAiRm9sbG93LXVwIHRlc3QgcmVjb21tZW5kZWQiOgogICJISVYgc3RhdHVzIG5lZ2F0aXZlIG9yIHVua25vd24iIGFuZAogIGNhc2UKICB3aGVuICJUQiBkaWFnbm9zaXMgcmVzdWx0IGlzIGRpYWdub3NlZCBUQiIKICAgIHRoZW4gdHJ1ZQogIHdoZW4gIlByZXN1bXB0aXZlIFRCIgogICAgdGhlbiB0cnVlCiAgZWxzZSBmYWxzZQogIGVuZAoKLyoKIEBvdXRwdXQ6ICJTY2hlZHVsZSBxdWFydGVybHkgcmV0ZXN0aW5nIGZvciBQckVQIHVzZXJzIgogQHBzZXVkb2NvZGU6IE4vQQogKi8KZGVmaW5lICJTY2hlZHVsZSBxdWFydGVybHkgcmV0ZXN0aW5nIGZvciBQckVQIHVzZXJzIjoKICAiSElWIHN0YXR1cyBuZWdhdGl2ZSBvciB1bmtub3duIiBhbmQgIkN1cnJlbnRseSBvbiBQckVQIgoKLyoKIEBvdXRwdXQ6ICJTY2hlZHVsZSBhbiBISVYgdGVzdCwgc3lwaGlsaXMgdGVzdCwgaGVwYXRpdGlzIEIgdGVzdCBhcyBlYXJseSBhcyBwb3NzaWJsZSBkdXJpbmcgdGhpcyBwcmVnbmFuY3kiCiBAcHNldWRvY29kZTogTi9BCiAqLwpkZWZpbmUgIlNjaGVkdWxlIGFuIEhJViB0ZXN0LCBzeXBoaWxpcyB0ZXN0LCBoZXBhdGl0aXMgQiB0ZXN0IGFzIGVhcmx5IGFzIHBvc3NpYmxlIGR1cmluZyB0aGlzIHByZWduYW5jeSI6CiAgIlByZWduYW50IGluIGhpZ2ggSElWIGJ1cmRlbiBzZXR0aW5nIgoKLyoKIEBvdXRwdXQ6ICJTY2hlZHVsZSBhICdGb2xsb3ctdXAgdGVzdCByZWNvbW1lbmRlZCBkYXRlIGR1cmluZyBhIHRoaXJkIHRyaW1lc3RlciB2aXNpdCIKIEBwc2V1ZG9jb2RlOiBOL0EKICovCmRlZmluZSAiU2NoZWR1bGUgYSAnRm9sbG93LXVwIHRlc3QgcmVjb21tZW5kZWQgZGF0ZScgZHVyaW5nIGEgdGhpcmQgdHJpbWVzdGVyIHZpc2l0IjoKICAiUHJlZ25hbnQgaW4gaGlnaCBISVYgYnVyZGVuIHNldHRpbmciCgovKgogQG91dHB1dDogIlNjaGVkdWxlIGEgJ0ZvbGxvdy11cCB0ZXN0IHJlY29tbWVuZGVkIGRhdGUgZHVyaW5nIGEgdGhpcmQgdHJpbWVzdGVyIHZpc2l0IgogQHBzZXVkb2NvZGU6IE4vQQogKi8KZGVmaW5lICJTY2hlZHVsZSBhICdGb2xsb3ctdXAgdGVzdCByZWNvbW1lbmRlZCBkYXRlJyBhdCBmaXJzdCBBTkMgY29udGFjdCBkYXRlIjoKICAiUHJlZ25hbnQgaW4gbG93IEhJViBidXJkZW4gc2V0dGluZyIgYW5kIAogIGNhc2UKICB3aGVuICJLZXkgcG9wdWxhdGlvbiBtZW1iZXIiCiAgICB0aGVuIHRydWUKICB3aGVuICJQYXJ0bmVyIGhhcyBISVYgYW5kIGlzIG5vdCB2aXJhbGx5IHN1cHByZXNzZWQiCiAgICB0aGVuIHRydWUKICB3aGVuICJBdCBlbGV2YXRlZCByaXNrIGZvciBISVYgYWNxdWlzaXRpb24iCiAgICB0aGVuIHRydWUKICBlbHNlIGZhbHNlCiAgZW5kCgovKgogQGR5bmFtaWNWYWx1ZTogR3VpZGFuY2UKICovCmRlZmluZSAiR3VpZGFuY2UiOgogIENvbWJpbmUoewogICAgaWYgIlNjaGVkdWxlIGFuIGFubnVhbCBmb2xsb3ctdXAgdGVzdCIKICAgICAgdGhlbiAnU2NoZWR1bGUgYW4gYW5udWFsIGZvbGxvdy11cCB0ZXN0LiAgCgogIFdITyBndWlkYW5jZSByZWNvbW1lbmRzIGFubnVhbCByZXRlc3RpbmcgZm9yIHBlb3BsZSB3aG8gaGF2ZSBvbmdvaW5nIEhJVi1yZWxhdGVkIHJpc2tzIGluIGFsbCBzZXR0aW5ncy4gVGhlc2UgaW5jbHVkZSBwZW9wbGUgd2l0aCBhIGtub3duIEhJVi1wb3NpdGl2ZSBwYXJ0bmVyIHdobyBpcyBub3QgdmlyYWxseSBzdXBwcmVzc2VkIG9uIEFSVC4nCiAgICAgIGVsc2UgJycsCiAgICBpZiAiRm9sbG93LXVwIHRlc3QgcmVjb21tZW5kZWQiCiAgICAgIHRoZW4gJ1JlY29tbWVuZCBhIGZvbGxvdy11cCB0ZXN0LiAgCgogIEluIGNlcnRhaW4gY29uZGl0aW9ucyBhbmQgc2l0dWF0aW9ucywgaW5kaXZpZHVhbHMgd2hvIGhhdmUgYmVlbiB0ZXN0ZWQgZm9yIEhJViBpbiB0aGUgcGFzdCBjYW4gYmUgYWR2aXNlZCB0byByZXRlc3QuIFRoZXNlIGluY2x1ZGU6IAogICogSW5kaXZpZHVhbHMgcHJlc2VudGluZyB3aXRoIGEgZGlhZ25vc2lzIG9yIHJlY2VpdmluZyB0cmVhdG1lbnQgZm9yIFNUSXMgb3IgdmlyYWwgaGVwYXRpdGlzLCAKICAqIEluZGl2aWR1YWxzIHdpdGggYSBjb25maXJtZWQgb3IgcHJlc3VtcHRpdmUgVEIgZGlhZ25vc2lzLCAKICAqIE91dHBhdGllbnRzIHByZXNlbnRpbmcgd2l0aCBjbGluaWNhbCBjb25kaXRpb25zIG9yIHN5bXB0b21zIGluZGljYXRpdmUgb2YgSElWLCBpbmRpdmlkdWFscyB3aXRoIHJlY2VudCBISVYgcmlzayBleHBvc3VyZS4nCiAgICAgIGVsc2UgJycsCiAgICBpZiAiU2NoZWR1bGUgcXVhcnRlcmx5IHJldGVzdGluZyBmb3IgUHJFUCB1c2VycyIKICAgICAgdGhlbiAnU2NoZWR1bGUgcXVhcnRlcmx5IHJldGVzdGluZyBmb3IgUHJFUCB1c2Vycy4nCiAgICAgIGVsc2UgJycsCiAgICBpZiAiU2NoZWR1bGUgYW4gSElWIHRlc3QsIHN5cGhpbGlzIHRlc3QsIGhlcGF0aXRpcyBCIHRlc3QgYXMgZWFybHkgYXMgcG9zc2libGUgZHVyaW5nIHRoaXMgcHJlZ25hbmN5IgogICAgICB0aGVuICdTY2hlZHVsZSBhbiBISVYgdGVzdCwgc3lwaGlsaXMgdGVzdCwgaGVwYXRpdGlzIEIgdGVzdCBhcyBlYXJseSBhcyBwb3NzaWJsZSBkdXJpbmcgdGhpcyBwcmVnbmFuY3kKCiAgQWxsIHByZWduYW50IHdvbWVuIHNob3VsZCBiZSB0ZXN0ZWQgZm9yIEhJViBhcyB3ZWxsIGFzIHN5cGhpbGlzIGFuZCBoZXBhdGl0aXMgQiB2aXJ1cyBhdCBsZWFzdCBvbmNlIGFuZCBhcyBlYXJseSBhcyBwb3NzaWJsZSBkdXJpbmcgcHJlZ25hbmN5LicKICAgICAgZWxzZSAnJywKICAgIGlmICJTY2hlZHVsZSBhICdGb2xsb3ctdXAgdGVzdCByZWNvbW1lbmRlZCBkYXRlJyBhdCBmaXJzdCBBTkMgY29udGFjdCBkYXRlIgogICAgICB0aGVuICdJbiBsb3cgSElWIGJ1cmRlbiBzZXR0aW5ncywgcmV0ZXN0aW5nIGFsbCBwcmVnbmFudCB3b21lbiBpcyBub3Qgd2FycmFudGVkIHVubGVzcyBmb2N1c2VkIGFtb25nIHdvbWVuIGZyb20ga2V5IHBvcHVsYXRpb25zIG9yIGF0IGhpZ2ggb25nb2luZyByaXNrLCBzdWNoIGFzIHRob3NlIGZyb20ga2V5IHBvcHVsYXRpb25zIG9yIHdpdGggcGFydG5lcnMgd2l0aCBISVYgd2hvIGFyZSBub3QgdmlyYWxseSBzdXBwcmVzc2VkLiBDb3VudHJpZXMgY291bGQgY29uc2lkZXIgb25lIGFkZGl0aW9uYWwgcmV0ZXN0IGluIHRoZSBwb3N0LXBhcnR1bSBwZXJpb2QsIHN1Y2ggYXMgYXQgMTQgd2Vla3MsIHNpeCBtb250aHMgb3IgbmluZSBtb250aHMgZm9yIHdvbWVuIGluIGhpZ2ggSElWIGJ1cmRlbiBvciBpbmNpZGVuY2UgZGlzdHJpY3RzIG9yIHByb3ZpbmNlcywga2V5IHBvcHVsYXRpb25zIG9yIHdvbWVuIHdpdGggcGFydG5lcnMgd2l0aCBISVYgd2hvIGFyZSBub3QgdmlyYWxseSBzdXBwcmVzc2VkLicKICAgICAgZWxzZSAnJwogIH0pCgovKgogQGR5bmFtaWNWYWx1ZTogIkRhdGUgdG8gc2NoZWR1bGUiCiAqLwpkZWZpbmUgIlNjaGVkdWxlIEZvbGxvdy11cCBEYXRlIjoKICBjYXNlCiAgd2hlbiAiU2NoZWR1bGUgYW4gYW5udWFsIGZvbGxvdy11cCB0ZXN0IgogICAgdGhlbiBUb2RheSArIDEgeWVhcnMKICB3aGVuICJTY2hlZHVsZSBxdWFydGVybHkgcmV0ZXN0aW5nIGZvciBQckVQIHVzZXJzIgogICAgdGhlbiBUb2RheSArIDMgbW9udGhzCiAgZWxzZSBudWxsCiAgZW5kCgovLyBIZWxwZXIgTG9naWMKZGVmaW5lICJQcmVnbmFudCBpbiBoaWdoIEhJViBidXJkZW4gc2V0dGluZyI6CiAgIkhJViBzdGF0dXMgbmVnYXRpdmUgb3IgdW5rbm93biIgYW5kCiAgIkhJViBidXJkZW4gb2Ygc2V0dGluZyBpcyBoaWdoIEhJViBidXJkZW4gc2V0dGluZyIgYW5kCiAgIkN1cnJlbnRseSBwcmVnbmFudCIKCmRlZmluZSAiUHJlZ25hbnQgaW4gbG93IEhJViBidXJkZW4gc2V0dGluZyI6CiAgIkhJViBzdGF0dXMgbmVnYXRpdmUgb3IgdW5rbm93biIgYW5kCiAgIkhJViBidXJkZW4gb2Ygc2V0dGluZyBpcyBsb3cgSElWIGJ1cmRlbiBzZXR0aW5nIiBhbmQKICAiQ3VycmVudGx5IHByZWduYW50IgoKZGVmaW5lICJQYXJ0bmVyIGhhcyBISVYgYW5kIGlzIG5vdCB2aXJhbGx5IHN1cHByZXNzZWQiOgogICJQYXJ0bmVyIEhJViBwb3NpdGl2ZSIgYW5kICJTZXggcGFydG5lcidzIEhJViB0cmVhdG1lbnQgc3RhdHVzIGlzIHBhcnRuZXIgbm90IHZpcmFsbHkgc3VwcHJlc3NlZCIKCg=="
  },
  {
    "contentType" : "application/elm+xml"
  }]
}