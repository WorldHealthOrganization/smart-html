<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation message="An operand identifier [reference] is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="An operand identifier [reference] is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="An operand identifier [reference] is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="406">
         <a:s>/**
 * Library: HIV.IND.68 Logic
 * Ref No: STI.3C1
 * Short Name: Syphilis treatment coverage, pregnant women, first ANC visit
 *
 * Definition: % of pregnant women tested positive for syphilis on first ANC services visit who were treated based on national guidelines during the reporting period
 *
 * Numerator: Number of pregnant women who tested positive for syphilis on first ANC services visit and were treated based on national guidelines during the reporting period
 * Numerator Calculation: COUNT of pregnant women with first &quot;ANC contact date&quot; for this pregnancy in the reporting period AND &quot;Syphilis test date&quot; on first &quot;ANC contact date&quot; AND &quot;Syphilis test result&quot;='Positive' AND &quot;Syphilis treatment start date&quot; in the reporting period
 * Numerator Exclusions: 
 *
 * Denominator: Number of pregnant women who tested positive for syphilis on first ANC services visit during the reporting period
 * Denominator Calculation: COUNT of pregnant women with first &quot;ANC contact date&quot; for this pregnancy in the reporting period AND &quot;Syphilis test date&quot; on first &quot;ANC contact date&quot; AND &quot;Syphilis test result&quot;='Positive'
 * Denominator Exclusions: 
 *
 * Disaggregations:
 * • Age (15–19, 20–24, 25–29, 30–49, 50+ years) 
 *  • HIV status (HIV-positive, HIV-negative, unknown status) 
 *  • Cities and other administrative regions of epidemiologic importance
 *
 * Disaggregation Elements: Age | HIV status
 *
 * Numerator and Denominator Elements:
 * ANC contact date 
 *  Syphilis test date 
 *  Syphilis test result 
 *  Syphilis treatment start date
 *
 * Reference: Consolidated guidelines on person-centred HIV strategic information: strengthening routine data for impact. Geneva: World Health Organization; 2022
 * 
 * Data Concepts:
 * HIV.A.DE17: Age | Calculated age (number of years) of the client based on date of birth
 * HIV.B.DE115: HIV status | HIV status reported after applying the national HIV testing algorithm. No single HIV test can provide an HIV-positive diagnosis.
 * HIV.B.DE116: HIV-positive | Client is HIV-positive
 * HIV.B.DE117: HIV-negative | Client is HIV-negative
 * HIV.B.DE118: Unknown | Client has unknown HIV status
 * HIV.B.DE249: Syphilis test date | Date of syphilis test
 * HIV.B.DE250: Syphilis test result | Result from syphilis test
 * HIV.B.DE251: Positive | Test result is positive for syphilis
 * HIV.B.DE252: Negative | Test result is negative for syphilis
 * HIV.B.DE253: Inconclusive | Test result is inconclusive
 * HIV.B.DE254: Syphilis treatment start date | Date of initiation of syphilis treatment
 * HIV.D.DE801: Syphilis test date | Date of syphilis test
 * HIV.D.DE802: Syphilis test result | Result from syphilis test
 * HIV.D.DE803: Positive | Test result is positive for syphilis
 * HIV.D.DE804: Negative | Test result is negative for syphilis
 * HIV.D.DE805: Inconclusive | Test result is inconclusive
 * HIV.D.DE806: Syphilis treatment start date | Date of initiation of syphilis treatment
 * HIV.E.DE85: ANC contact date | The date and time of the client's ANC contact (in the ANC DAK this is called 'Contact date')
 * HIV.G.DE69: Syphilis test date | Date of syphilis test
 * HIV.G.DE70: Syphilis test result | Result from syphilis test
 * HIV.G.DE71: Positive | Test result is positive for syphilis
 * HIV.G.DE72: Negative | Test result is negative for syphilis
 * HIV.G.DE73: Inconclusive | Test result is inconclusive
 * HIV.SRV.DE18: ANC contact date | The date and time of the client's ANC contact (in the ANC DAK this is called 'Contact date')
 *
 * Additional Context
 * - what it measures: A: % of people attending HIV prevention services who tested positive for syphilis and | were treated based on national guidelines during the reporting period | B: % of people living with HIV who tested positive for syphilis and were treated based on national guidelines during the reporting period | C: % of pregnant women who tested positive for syphilis and were treated based on national guidelines during the reporting period
 * - rationale: Prompt treatment of individuals positive for syphilis is important for improving their health and reducing sexual and vertical transmission of syphilis.
 * - method: Individual-level data obtained from programme records.   |  | If individual-level data are not available, the indicator can be reported using aggregate programme data.
 * 
 * Suggested Scoring Method: proportion | http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/proportion-measure-cqfm
 */

library HIVIND68Logic</a:s>
      </a:s>
   </annotation>
   <identifier id="HIVIND68Logic" system="http://smart.who.int/hiv"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="68:1-68:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>// Included Libraries
using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="207" locator="70:1-70:44" localIdentifier="HIC" path="http://smart.who.int/hiv/HIVCommon" version="0.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVCommon</a:s>
               </a:s>
               <a:s> version '0.0.1' called HIC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="208" locator="71:1-71:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="209" locator="73:1-73:29" localIdentifier="WCom" path="http://smart.who.int/hiv/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WCom</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="74:1-74:29" localIdentifier="HE" path="http://smart.who.int/hiv/HIVElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVElements</a:s>
               </a:s>
               <a:s> called HE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="211" locator="75:1-75:39" localIdentifier="HIE" path="http://smart.who.int/hiv/HIVIndicatorElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVIndicatorElements</a:s>
               </a:s>
               <a:s> called HIE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="212" locator="76:1-76:31" localIdentifier="Config" path="http://smart.who.int/hiv/HIVConfig">
         <annotation xsi:type="a:Annotation">
            <a:s r="212">
               <a:s>include </a:s>
               <a:s>
                  <a:s>HIVConfig</a:s>
               </a:s>
               <a:s> called Config</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="213" locator="79:1-79:88" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="213">
               <a:s>// Indicator Definition
parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="225">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="226">
                     <a:s>Date</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s> default </a:s>
               <a:s r="224">
                  <a:s r="218">Interval[@2023-01-01, @2023-01-30]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="224" locator="79:55-79:88" lowClosed="true" highClosed="true" xsi:type="Interval">
            <low localId="218" locator="79:64-79:74" xsi:type="Date">
               <year localId="215" valueType="t:Integer" value="2023" xsi:type="Literal"/>
               <month localId="216" valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day localId="217" valueType="t:Integer" value="1" xsi:type="Literal"/>
            </low>
            <high localId="223" locator="79:77-79:87" xsi:type="Date">
               <year localId="220" valueType="t:Integer" value="2023" xsi:type="Literal"/>
               <month localId="221" valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day localId="222" valueType="t:Integer" value="30" xsi:type="Literal"/>
            </high>
         </default>
         <parameterTypeSpecifier localId="225" locator="79:32-79:45" xsi:type="IntervalTypeSpecifier">
            <pointType localId="226" locator="79:41-79:44" name="t:Date" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <contexts>
      <def localId="230" locator="81:1-81:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="228" locator="81:1-81:15" name="Patient" context="Patient">
         <expression localId="229" xsi:type="SingletonFrom">
            <operand localId="227" locator="81:1-81:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="232" locator="88:1-89:6" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="232">
               <a:s r="233">/* Populations */

/*
 *Initial Population
 */

define &quot;Initial Population&quot;:
  true</a:s>
            </a:s>
         </annotation>
         <expression localId="233" locator="89:3-89:6" valueType="t:Boolean" value="true" xsi:type="Literal"/>
      </def>
      <def localId="235" locator="98:1-105:49" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="235">
               <a:s>/**
 * Numerator
 * 
 * Definition: Number of pregnant women who tested positive for syphilis on first ANC services visit and were treated based on national guidelines during the reporting period
 * Calculation: COUNT of pregnant women with first &quot;ANC contact date&quot; for this pregnancy in the reporting period AND &quot;Syphilis test date&quot; on first &quot;ANC contact date&quot; AND &quot;Syphilis test result&quot;='Positive' AND &quot;Syphilis treatment start date&quot; in the reporting period
 */

define &quot;Numerator&quot;:
  </a:s>
               <a:s r="236">
                  <a:s r="237">
                     <a:s r="255">
                        <a:s r="244">
                           <a:s r="243">
                              <a:s r="242">
                                 <a:s>First(</a:s>
                                 <a:s r="239">
                                    <a:s r="238">
                                       <a:s>HIE</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="239">
                                       <a:s>&quot;ANC within pregnancy&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="243">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="244">
                              <a:s>toInterval()</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="255"> during </a:s>
                        <a:s r="254">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  and </a:s>
                     <a:s r="268">
                        <a:s>exists</a:s>
                        <a:s r="312">
                           <a:s>(</a:s>
                           <a:s r="312">
                              <a:s>
                                 <a:s r="269">
                                    <a:s r="271">
                                       <a:s>
                                          <a:s>HE.&quot;Positive B.DE251&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> S</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  </a:s>
                              <a:s r="311">
                                 <a:s>with </a:s>
                                 <a:s r="272">
                                    <a:s r="274">
                                       <a:s>
                                          <a:s>HE.&quot;Syphilis test date B.DE249&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                                 <a:s>
  such that </a:s>
                                 <a:s r="275">
                                    <a:s r="276">
                                       <a:s r="280">
                                          <a:s r="278">
                                             <a:s r="277">
                                                <a:s>S</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="278">
                                                <a:s>partOf</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="280">
                                             <a:s>references(</a:s>
                                             <a:s r="279">
                                                <a:s>P</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> and </a:s>
                                       <a:s r="288">
                                          <a:s r="286">
                                             <a:s r="285">
                                                <a:s r="284">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="285">
                                                   <a:s>performed</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="286">
                                                <a:s>toInterval()</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="288"> during </a:s>
                                          <a:s r="287">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
  and </a:s>
                                    <a:s r="301">
                                       <a:s r="302">
                                          <a:s>start of </a:s>
                                          <a:s r="305">
                                             <a:s r="304">
                                                <a:s r="303">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="304">
                                                   <a:s>performed</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="305">
                                                <a:s>toInterval()</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="306">
                                          <a:s>start of </a:s>
                                          <a:s r="308">
                                             <a:s r="307">
                                                <a:s>HIE</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="308">
                                                <a:s>&quot;first anc date&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  and </a:s>
                  <a:s r="314">
                     <a:s r="313">
                        <a:s>HIE</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="314">
                        <a:s>&quot;Syphilis treatment start date B.DE254&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="236" locator="99:3-105:49" xsi:type="And">
            <operand localId="237" locator="99:3-104:3" xsi:type="And">
               <operand localId="255" locator="99:3-99:83" xsi:type="IncludedIn">
                  <operand localId="244" locator="99:3-99:55" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                     <operand localId="245" xsi:type="As">
                        <operand localId="243" locator="99:3-99:42" path="period" xsi:type="Property">
                           <source localId="242" locator="99:3-99:35" xsi:type="First">
                              <source localId="239" locator="99:9-99:34" name="ANC within pregnancy" libraryName="HIE" xsi:type="ExpressionRef"/>
                           </source>
                        </operand>
                        <asTypeSpecifier localId="246" xsi:type="ChoiceTypeSpecifier">
                           <choice localId="247" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="248" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="249" name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="250" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="251" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="252" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                           <choice localId="253" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                        </asTypeSpecifier>
                     </operand>
                  </operand>
                  <operand localId="256" xsi:type="Interval">
                     <low localId="259" xsi:type="ToDateTime">
                        <signature localId="260" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="257" path="low" xsi:type="Property">
                           <source localId="254" locator="99:64-99:83" name="Measurement Period" xsi:type="ParameterRef"/>
                        </operand>
                     </low>
                     <lowClosedExpression localId="261" path="lowClosed" xsi:type="Property">
                        <source localId="254" locator="99:64-99:83" name="Measurement Period" xsi:type="ParameterRef"/>
                     </lowClosedExpression>
                     <high localId="264" xsi:type="ToDateTime">
                        <signature localId="265" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="262" path="high" xsi:type="Property">
                           <source localId="254" locator="99:64-99:83" name="Measurement Period" xsi:type="ParameterRef"/>
                        </operand>
                     </high>
                     <highClosedExpression localId="266" path="highClosed" xsi:type="Property">
                        <source localId="254" locator="99:64-99:83" name="Measurement Period" xsi:type="ParameterRef"/>
                     </highClosedExpression>
                  </operand>
               </operand>
               <operand localId="268" locator="100:7-104:3" xsi:type="Exists">
                  <operand localId="312" locator="100:13-104:3" xsi:type="Query">
                     <source localId="269" locator="100:14-100:36" alias="S">
                        <expression localId="271" locator="100:14-100:34" name="Positive B.DE251" libraryName="HE" xsi:type="ExpressionRef"/>
                     </source>
                     <relationship localId="311" locator="101:3-103:71" alias="P" xsi:type="With">
                        <expression localId="274" locator="101:8-101:38" name="Syphilis test date B.DE249" libraryName="HE" xsi:type="ExpressionRef"/>
                        <suchThat localId="275" locator="102:13-103:71" xsi:type="And">
                           <operand localId="276" locator="102:13-102:91" xsi:type="And">
                              <operand localId="280" locator="102:13-102:34" name="references" libraryName="WCom" xsi:type="FunctionRef">
                                 <signature localId="281" xsi:type="ListTypeSpecifier">
                                    <elementType localId="282" name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <signature localId="283" name="fhir:Resource" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="278" locator="102:13-102:20" path="partOf" scope="S" xsi:type="Property"/>
                                 <operand localId="279" locator="102:33" name="P" xsi:type="AliasRef"/>
                              </operand>
                              <operand localId="288" locator="102:40-102:91" xsi:type="IncludedIn">
                                 <operand localId="286" locator="102:40-102:63" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                                    <operand localId="285" locator="102:40-102:50" path="performed" scope="P" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="289" xsi:type="Interval">
                                    <low localId="292" xsi:type="ToDateTime">
                                       <signature localId="293" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="290" path="low" xsi:type="Property">
                                          <source localId="287" locator="102:72-102:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                       </operand>
                                    </low>
                                    <lowClosedExpression localId="294" path="lowClosed" xsi:type="Property">
                                       <source localId="287" locator="102:72-102:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </lowClosedExpression>
                                    <high localId="297" xsi:type="ToDateTime">
                                       <signature localId="298" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="295" path="high" xsi:type="Property">
                                          <source localId="287" locator="102:72-102:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                       </operand>
                                    </high>
                                    <highClosedExpression localId="299" path="highClosed" xsi:type="Property">
                                       <source localId="287" locator="102:72-102:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </highClosedExpression>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="301" locator="103:7-103:71" xsi:type="Equal">
                              <signature localId="309" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <signature localId="310" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="302" locator="103:7-103:39" xsi:type="Start">
                                 <operand localId="305" locator="103:16-103:39" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                                    <operand localId="304" locator="103:16-103:26" path="performed" scope="P" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <operand localId="306" locator="103:43-103:71" xsi:type="Start">
                                 <operand localId="308" locator="103:52-103:71" name="first anc date" libraryName="HIE" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </suchThat>
                     </relationship>
                  </operand>
               </operand>
            </operand>
            <operand localId="314" locator="105:7-105:49" name="Syphilis treatment start date B.DE254" libraryName="HIE" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="316" locator="115:1-121:3" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="316">
               <a:s>/**
 * Denominator
 *
 * Definition: Number of pregnant women who tested positive for syphilis on first ANC services visit during the reporting period
 * Calculation: COUNT of pregnant women with first &quot;ANC contact date&quot; for this pregnancy in the reporting period AND &quot;Syphilis test date&quot; on first &quot;ANC contact date&quot; AND &quot;Syphilis test result&quot;='Positive'
 */

define &quot;Denominator&quot;:
  </a:s>
               <a:s r="317">
                  <a:s r="335">
                     <a:s r="324">
                        <a:s r="323">
                           <a:s r="322">
                              <a:s>First(</a:s>
                              <a:s r="319">
                                 <a:s r="318">
                                    <a:s>HIE</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="319">
                                    <a:s>&quot;ANC within pregnancy&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="323">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="324">
                           <a:s>toInterval()</a:s>
                        </a:s>
                     </a:s>
                     <a:s r="335"> during </a:s>
                     <a:s r="334">
                        <a:s>&quot;Measurement Period&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  and </a:s>
                  <a:s r="348">
                     <a:s>exists</a:s>
                     <a:s r="392">
                        <a:s>(</a:s>
                        <a:s r="392">
                           <a:s>
                              <a:s r="349">
                                 <a:s r="351">
                                    <a:s>
                                       <a:s>HE.&quot;Positive B.DE251&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> S</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  </a:s>
                           <a:s r="391">
                              <a:s>with </a:s>
                              <a:s r="352">
                                 <a:s r="354">
                                    <a:s>
                                       <a:s>HE.&quot;Syphilis test date B.DE249&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                              <a:s>
  such that </a:s>
                              <a:s r="355">
                                 <a:s r="356">
                                    <a:s r="360">
                                       <a:s r="358">
                                          <a:s r="357">
                                             <a:s>S</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="358">
                                             <a:s>partOf</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="360">
                                          <a:s>references(</a:s>
                                          <a:s r="359">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="368">
                                       <a:s r="366">
                                          <a:s r="365">
                                             <a:s r="364">
                                                <a:s>P</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="365">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="366">
                                             <a:s>toInterval()</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="368"> during </a:s>
                                       <a:s r="367">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
  and </a:s>
                                 <a:s r="381">
                                    <a:s r="382">
                                       <a:s>start of </a:s>
                                       <a:s r="385">
                                          <a:s r="384">
                                             <a:s r="383">
                                                <a:s>P</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="384">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="385">
                                             <a:s>toInterval()</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="386">
                                       <a:s>start of </a:s>
                                       <a:s r="388">
                                          <a:s r="387">
                                             <a:s>HIE</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="388">
                                             <a:s>&quot;first anc date&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="317" locator="116:3-121:3" xsi:type="And">
            <operand localId="335" locator="116:3-116:83" xsi:type="IncludedIn">
               <operand localId="324" locator="116:3-116:55" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                  <operand localId="325" xsi:type="As">
                     <operand localId="323" locator="116:3-116:42" path="period" xsi:type="Property">
                        <source localId="322" locator="116:3-116:35" xsi:type="First">
                           <source localId="319" locator="116:9-116:34" name="ANC within pregnancy" libraryName="HIE" xsi:type="ExpressionRef"/>
                        </source>
                     </operand>
                     <asTypeSpecifier localId="326" xsi:type="ChoiceTypeSpecifier">
                        <choice localId="327" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="328" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="329" name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="330" name="fhir:instant" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="331" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="332" name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                        <choice localId="333" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <operand localId="336" xsi:type="Interval">
                  <low localId="339" xsi:type="ToDateTime">
                     <signature localId="340" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="337" path="low" xsi:type="Property">
                        <source localId="334" locator="116:64-116:83" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </low>
                  <lowClosedExpression localId="341" path="lowClosed" xsi:type="Property">
                     <source localId="334" locator="116:64-116:83" name="Measurement Period" xsi:type="ParameterRef"/>
                  </lowClosedExpression>
                  <high localId="344" xsi:type="ToDateTime">
                     <signature localId="345" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="342" path="high" xsi:type="Property">
                        <source localId="334" locator="116:64-116:83" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </high>
                  <highClosedExpression localId="346" path="highClosed" xsi:type="Property">
                     <source localId="334" locator="116:64-116:83" name="Measurement Period" xsi:type="ParameterRef"/>
                  </highClosedExpression>
               </operand>
            </operand>
            <operand localId="348" locator="117:7-121:3" xsi:type="Exists">
               <operand localId="392" locator="117:13-121:3" xsi:type="Query">
                  <source localId="349" locator="117:14-117:36" alias="S">
                     <expression localId="351" locator="117:14-117:34" name="Positive B.DE251" libraryName="HE" xsi:type="ExpressionRef"/>
                  </source>
                  <relationship localId="391" locator="118:3-120:71" alias="P" xsi:type="With">
                     <expression localId="354" locator="118:8-118:38" name="Syphilis test date B.DE249" libraryName="HE" xsi:type="ExpressionRef"/>
                     <suchThat localId="355" locator="119:13-120:71" xsi:type="And">
                        <operand localId="356" locator="119:13-119:91" xsi:type="And">
                           <operand localId="360" locator="119:13-119:34" name="references" libraryName="WCom" xsi:type="FunctionRef">
                              <signature localId="361" xsi:type="ListTypeSpecifier">
                                 <elementType localId="362" name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                              </signature>
                              <signature localId="363" name="fhir:Resource" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="358" locator="119:13-119:20" path="partOf" scope="S" xsi:type="Property"/>
                              <operand localId="359" locator="119:33" name="P" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="368" locator="119:40-119:91" xsi:type="IncludedIn">
                              <operand localId="366" locator="119:40-119:63" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                                 <operand localId="365" locator="119:40-119:50" path="performed" scope="P" xsi:type="Property"/>
                              </operand>
                              <operand localId="369" xsi:type="Interval">
                                 <low localId="372" xsi:type="ToDateTime">
                                    <signature localId="373" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="370" path="low" xsi:type="Property">
                                       <source localId="367" locator="119:72-119:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                 </low>
                                 <lowClosedExpression localId="374" path="lowClosed" xsi:type="Property">
                                    <source localId="367" locator="119:72-119:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </lowClosedExpression>
                                 <high localId="377" xsi:type="ToDateTime">
                                    <signature localId="378" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="375" path="high" xsi:type="Property">
                                       <source localId="367" locator="119:72-119:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                 </high>
                                 <highClosedExpression localId="379" path="highClosed" xsi:type="Property">
                                    <source localId="367" locator="119:72-119:91" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </highClosedExpression>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="381" locator="120:7-120:71" xsi:type="Equal">
                           <signature localId="389" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="390" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="382" locator="120:7-120:39" xsi:type="Start">
                              <operand localId="385" locator="120:16-120:39" name="toInterval" libraryName="WCom" xsi:type="FunctionRef">
                                 <operand localId="384" locator="120:16-120:26" path="performed" scope="P" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="386" locator="120:43-120:71" xsi:type="Start">
                              <operand localId="388" locator="120:52-120:71" name="first anc date" libraryName="HIE" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </suchThat>
                  </relationship>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="394" locator="131:1-132:26" name="Age Stratifier" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="394">
               <a:s>/* end Populations */

/*
 * Disaggregators
 */


define &quot;Age Stratifier&quot;:
	</a:s>
               <a:s r="396">
                  <a:s r="395">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="396">
                     <a:s>&quot;By Age Stratifier 9&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="396" locator="132:2-132:26" name="By Age Stratifier 9" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="398" locator="134:1-135:38" name="Geographic Region Stratifier" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="398">
               <a:s>define &quot;Geographic Region Stratifier&quot;:
	</a:s>
               <a:s r="400">
                  <a:s r="399">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="400">
                     <a:s>&quot;By Geographic Region Stratifier&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="400" locator="135:2-135:38" name="By Geographic Region Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="402" locator="137:1-138:29" name="HIV Status" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="402">
               <a:s>define &quot;HIV Status&quot;:
  </a:s>
               <a:s r="404">
                  <a:s r="403">
                     <a:s>HIE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="404">
                     <a:s>&quot;HIV Status Stratifier&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="404" locator="138:3-138:29" name="HIV Status Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="406" locator="140:1-143:40" name="Stratification" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="406">
               <a:s>define &quot;Stratification&quot;:
</a:s>
               <a:s r="433">
                  <a:s r="427">
                     <a:s r="423">
                        <a:s r="416">
                           <a:s r="412">
                              <a:s r="411">
                                 <a:s>HIE</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="412">
                                 <a:s>&quot;By Age Stratifier 9&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
+ </a:s>
                           <a:s r="413">
                              <a:s>':'</a:s>
                           </a:s>
                        </a:s>
                        <a:s> + </a:s>
                        <a:s r="418">
                           <a:s r="417">
                              <a:s>HIE</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="418">
                              <a:s>&quot;By Geographic Region Stratifier&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
+ </a:s>
                     <a:s r="424">
                        <a:s>':'</a:s>
                     </a:s>
                  </a:s>
                  <a:s> + </a:s>
                  <a:s r="430">
                     <a:s r="429">
                        <a:s r="428">
                           <a:s>HIE</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="429">
                           <a:s>&quot;HIV Status Stratifier&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="430">
                        <a:s>code</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="433" locator="141:1-143:40" xsi:type="Concatenate">
            <operand localId="427" locator="141:1-143:5" xsi:type="Concatenate">
               <operand localId="423" locator="141:1-142:45" xsi:type="Concatenate">
                  <operand localId="416" locator="141:1-142:5" xsi:type="Concatenate">
                     <operand localId="412" locator="141:1-141:25" name="By Age Stratifier 9" libraryName="HIE" xsi:type="ExpressionRef"/>
                     <operand localId="413" locator="142:3-142:5" valueType="t:String" value=":" xsi:type="Literal"/>
                  </operand>
                  <operand localId="419" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="420" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="418" locator="142:9-142:45" name="By Geographic Region Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="424" locator="143:3-143:5" valueType="t:String" value=":" xsi:type="Literal"/>
            </operand>
            <operand localId="430" locator="143:9-143:40" path="code" xsi:type="Property">
               <source localId="429" locator="143:9-143:35" name="HIV Status Stratifier" libraryName="HIE" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
   </statements>
</library>
