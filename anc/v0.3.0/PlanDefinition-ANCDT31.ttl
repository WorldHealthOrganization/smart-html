@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://smart.who.int/anc/PlanDefinition/ANCDT31> a fhir:PlanDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "ANCDT31"] ; # 
  fhir:text [
     fhir:status [ fhir:v "extensions" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n  <table class=\"narrative-table\">\n    <tbody>\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Metadata</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">ANC.DT.31 Flu immunization</td>\n</tr>\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Version</th>\n\n\n<td class=\"content-container\">0.3.0</td>\n</tr>\n\n\n\n\n\n\n\n  \n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Identifier</th>\n\n\n<td class=\"content-container\">ANC.DT.31</td>\n</tr>\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Use Context</th>\n\n\n<td class=\"content-container\"><span title=\"{http://terminology.hl7.org/CodeSystem/usage-context-type task}\">Workflow Task</span> = <span title=\"Codes:{http://smart.who.int/anc/CodeSystem/activity-codes ANC.B10.7.}\">Immunizations</span></td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Jurisdiction</th>\n\n\n<td class=\"content-container\"><span title=\"Codes:{http://unstats.un.org/unsd/methods/m49/m49.htm 001}\">Global (Whole world)</span></td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Steward (Publisher)</th>\n\n\n<td class=\"content-container\">World Health Organization (WHO)</td>\n</tr>\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\"><div><p>If the woman has not yet been immunized with the seasonal flu vaccine, she should be immunized</p>\n</div></td>\n</tr>\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Type</th>\n\n\n<td class=\"content-container\"><span title=\"Codes:{http://terminology.hl7.org/CodeSystem/plan-definition-type eca-rule}\">ECA Rule</span></td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Action</th>\n\n\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">ANC.DT.31 Flu immunization</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Trigger Type</th>\n\n\n<td class=\"content-container\">Named Event</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Trigger Name</th>\n\n\n<td class=\"content-container\">ANC.B10.7. Immunizations</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n    \n      \n      \n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.31 Flu immunization)</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Id</th>\n\n\n<td class=\"content-container\">1</td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">Provide seasonal flu immunization</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\">Provide seasonal flu immunization</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Human-interpretable Description</th>\n\n\n<td class=\"content-container\">Pregnant women should be vaccinated with trivalent inactivated influenza vaccine at any stage of pregnancy</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Condition</th>\n  <td class=\"content-container\">\n  <em>Kind</em>: Applicability\n  \n    <br/>\n    \n      \n      <em>Logic Definition</em>: <a href=\"#ancdt31-should-provide-seasonal-flu-immunization\">Should Provide seasonal flu immunization</a> \n    \n   \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n  \n\n\n\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Logic</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Primary Library</th>\n\n\n<td class=\"content-container\"><a href=\"Library-ANCDT31.html\">ANC.DT.31 Flu immunization</a></td>\n</tr>\n\n\n\n\n  \n  \n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library FHIRHelpers\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <code>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</code>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library ContactData\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-ANCContactDataElements.html\">ANC Contact Data Elements</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCContactDataElements</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library WC\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-WHOCommon.html\">WHO Common</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/WHOCommon</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library Cx\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-ANCConcepts.html\">ANC Concepts</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCConcepts</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Flu immunization history\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b6-de105.html\">Flu immunization history</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de105</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Flu Immunization History - No Doses Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b6-de107.html\">Flu Immunization History - No Doses Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de107</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Flu Immunization History - Unknown Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b6-de108.html\">Flu Immunization History - Unknown Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de108</tt>\n    \n    \n    \n  </td>\n</tr>\n\n\n  \n  \n  \n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: encounter\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: In\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: string\n    \n  </td>\n</tr>\n\n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: Should Provide seasonal flu immunization\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: Out\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: boolean\n    \n  </td>\n</tr>\n\n  \n  \n  <tr>\n    <th colspan=\"2\" scope=\"row\" class=\"section-header\"><a name=\"effective-data-requirements\"> </a>PlanDefinition Logic Data Requirements</th>\n  </tr>\n  \n  \n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b6-de105.html\">Flu immunization history</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n  \n  <tr>\n  <th scope=\"row\" rowspan=\"2\" class=\"row-header\">\n    \n    Logic Definition\n  </th>\n\n</tr>\n<tr>\n\n</tr>\n\n  \n\n<tr>\n  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.9-cibuild of the sample-content-ig Liquid templates</th>\n</tr>\n\n    </tbody>\n  </table>\n</div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:contained ( [
     a fhir:Library ;
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:name [ fhir:v "EffectiveDataRequirements" ] ;
     fhir:status [ fhir:v "active" ] ;
     fhir:type [
       fhir:coding ( [
         fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/library-type"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "module-definition" ]
       ] )
     ] ;
     fhir:relatedArtifact ( [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library FHIRHelpers" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/FHIRHelpers|4.0.1>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library ContactData" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCContactDataElements"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCContactDataElements>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library WC" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/WHOCommon"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/WHOCommon>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library Cx" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCConcepts"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCConcepts>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Flu immunization history" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de105"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de105>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Flu Immunization History - No Doses Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de107"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de107>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Flu Immunization History - Unknown Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de108"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de108>
       ]
     ] ) ;
     fhir:parameter ( [
       fhir:name [ fhir:v "encounter" ] ;
       fhir:use [ fhir:v "in" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "string" ]
     ] [
       fhir:name [ fhir:v "Should Provide seasonal flu immunization" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] ) ;
     fhir:dataRequirement ( [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de105"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de105>
         ]
       ] )
     ] )
  ] ) ; # 
  fhir:extension ( [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Flu immunization history"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE105 Flu immunization history\n  @activity: ANC.B6 Profile\n  @description: Whether or not this year's seasonal flu vaccine has been provided\n*/\ndefine \"Flu immunization history\":\n  WC.MostRecent(\n  [Observation: Cx.\"Flu immunization history\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 0
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT31"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Provide seasonal flu immunization"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n(\"Flu immunization history\" = \"No doses\")\n  OR (\"Flu immunization history\" = \"Unknown\")\n*/\ndefine \"Should Provide seasonal flu immunization\":\n  ContactData.\"Flu immunization history\" in Cx.\"Flu Immunization History - No Doses Choices\"\n    or ContactData.\"Flu immunization history\" in Cx.\"Flu Immunization History - Unknown Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 1
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToConcept"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 2
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToCode"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 3
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "MostRecent"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function MostRecent(observations List<Observation>):\n  Last(\n    observations O\n      sort by issued\n  )"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 4
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value ObservationStatus): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 5
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToBoolean"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToBoolean(value boolean): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 6
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtension"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.\n@comment: This function uses singleton from to ensure that a run-time exception is thrown if there\nis more than one extension on the given resource with the specified url.\n*/\ndefine function ModifierExtension(domainResource DomainResource, id String):\n  singleton from ModifierExtensions(domainResource, id)"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 7
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtensions"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.\n@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access\ncontent that is defined by extensions but not yet surfaced in the\nCQL model info.\n*/\ndefine function ModifierExtensions(domainResource DomainResource, id String):\n  domainResource.modifierExtension E\n	  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)\n		return E"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 8
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value uri): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 9
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value string): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 10
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:canonical ;
       fhir:v "#effective-data-requirements"^^xsd:anyURI
     ]
  ] [
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:Reference ;
       fhir:link <http://smart.who.int/anc/Device/cqf-tooling> ;
       fhir:reference [ fhir:v "Device/cqf-tooling" ]
     ]
  ] ) ; # 
  fhir:url [ fhir:v "http://smart.who.int/anc/PlanDefinition/ANCDT31"^^xsd:anyURI] ; # 
  fhir:identifier ( [
     fhir:use [ fhir:v "official" ] ;
     fhir:value [ fhir:v "ANC.DT.31" ]
  ] ) ; # 
  fhir:version [ fhir:v "0.3.0"] ; # 
  fhir:name [ fhir:v "ANCDT31"] ; # 
  fhir:title [ fhir:v "ANC.DT.31 Flu immunization"] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/plan-definition-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "eca-rule" ]
     ] )
  ] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:date [ fhir:v "2025-06-24T13:58:48-06:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "World Health Organization (WHO)"] ; # 
  fhir:contact ( [
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://www.who.int" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "If the woman has not yet been immunized with the seasonal flu vaccine, she should be immunized"] ; # 
  fhir:useContext ( [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "task" ] ;
       fhir:display [ fhir:v "Workflow Task" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         fhir:system [ fhir:v "http://smart.who.int/anc/CodeSystem/activity-codes"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "ANC.B10.7." ] ;
         fhir:display [ fhir:v "Immunizations" ]
       ] )
     ]
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "001" ]
     ] )
  ] ) ; # 
  fhir:library ( [
     fhir:v "http://smart.who.int/anc/Library/ANCDT31"^^xsd:anyURI ;
     fhir:link <http://smart.who.int/anc/Library/ANCDT31>
  ] ) ; # 
  fhir:action ( [
     fhir:title [ fhir:v "ANC.DT.31 Flu immunization" ] ;
     fhir:trigger ( [
       fhir:type [ fhir:v "named-event" ] ;
       fhir:name [ fhir:v "ANC.B10.7. Immunizations" ]
     ] ) ;
     fhir:action ( [
       fhir:id [ fhir:v "1" ] ;
       fhir:title [ fhir:v "Provide seasonal flu immunization" ] ;
       fhir:description [ fhir:v "Provide seasonal flu immunization" ] ;
       fhir:textEquivalent [ fhir:v "Pregnant women should be vaccinated with trivalent inactivated influenza vaccine at any stage of pregnancy" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "Vaccines against influenza WHO position paper (2012) (10)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(\"Flu immunization history\" = \"No doses\")\n  OR (\"Flu immunization history\" = \"Unknown\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Provide seasonal flu immunization" ]
         ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

