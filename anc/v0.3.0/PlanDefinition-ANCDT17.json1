{
  "resourceType" : "PlanDefinition",
  "id" : "ANCDT17",
  "text" : {
    "status" : "extensions",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n  <table class=\"narrative-table\">\n    <tbody>\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Metadata</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</td>\n</tr>\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Version</th>\n\n\n<td class=\"content-container\">0.3.0</td>\n</tr>\n\n\n\n\n\n\n\n  \n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Identifier</th>\n\n\n<td class=\"content-container\">ANC.DT.17</td>\n</tr>\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Use Context</th>\n\n\n<td class=\"content-container\"><span title=\"{http://terminology.hl7.org/CodeSystem/usage-context-type task}\">Workflow Task</span> = <span title=\"Codes:{http://smart.who.int/anc/CodeSystem/activity-codes ANC.B10.4.}\">Diagnosis and treatment</span></td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Jurisdiction</th>\n\n\n<td class=\"content-container\"><span title=\"Codes:{http://unstats.un.org/unsd/methods/m49/m49.htm 001}\">Global (Whole world)</span></td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Steward (Publisher)</th>\n\n\n<td class=\"content-container\">World Health Organization (WHO)</td>\n</tr>\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\"><div><p>If the woman presents with any of the following symptoms and/or test results, conduct counselling and referral as needed</p>\n</div></td>\n</tr>\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Type</th>\n\n\n<td class=\"content-container\"><span title=\"Codes:{http://terminology.hl7.org/CodeSystem/plan-definition-type eca-rule}\">ECA Rule</span></td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Action</th>\n\n\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Trigger Type</th>\n\n\n<td class=\"content-container\">Named Event</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Trigger Name</th>\n\n\n<td class=\"content-container\">ANC.B10.4. Diagnosis and treatment</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n    \n      \n      \n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Id</th>\n\n\n<td class=\"content-container\">1</td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Human-interpretable Description</th>\n\n\n<td class=\"content-container\">Symptom(s) of severe pre-eclampsia! Refer urgently to hospital!\nWoman has hypertension. If she is experiencing a symptom of severe pre-eclampsia, then refer urgently to the hospital for further investigation and management.\n\nProcedure\n– Give magnesium sulphate\n– Give appropriate anti-hypertensives\n– Revise the birth plan\n– Refer urgently to hospital</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Condition</th>\n  <td class=\"content-container\">\n  <em>Kind</em>: Applicability\n  \n    <br/>\n    \n      \n      <em>Logic Definition</em>: <a href=\"#ancdt17-should-refer-urgently-to-a-hospital\">Should Refer urgently to a hospital</a> \n    \n   \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n  \n    \n    \n      \n      \n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Id</th>\n\n\n<td class=\"content-container\">2</td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital 2</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Human-interpretable Description</th>\n\n\n<td class=\"content-container\">Pre-eclampsia diagnosis! Refer to hospital and revise birth plan.\nWoman has pre-eclampsia – SBP of 140 mmHg or above and/or DBP of 90 mmHg or above and proteinuria 2+ and no symptom of severe pre-eclampsia.\n\nProcedure: \n– Refer to hospital \n– Revise the birth plan</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Condition</th>\n  <td class=\"content-container\">\n  <em>Kind</em>: Applicability\n  \n    <br/>\n    \n      \n      <em>Logic Definition</em>: <a href=\"#ancdt17-should-refer-urgently-to-a-hospital-2\">Should Refer urgently to a hospital 2</a> \n    \n   \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n  \n    \n    \n      \n      \n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Id</th>\n\n\n<td class=\"content-container\">3</td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\">Refer urgently to a hospital 3</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Human-interpretable Description</th>\n\n\n<td class=\"content-container\">Woman has severe hypertension. If SBP is 160 mmHg or higher and/or DBP is 110 mmHg or higher, then refer urgently to the hospital for further investigation and management.</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Condition</th>\n  <td class=\"content-container\">\n  <em>Kind</em>: Applicability\n  \n    <br/>\n    \n      \n      <em>Logic Definition</em>: <a href=\"#ancdt17-should-refer-urgently-to-a-hospital-3\">Should Refer urgently to a hospital 3</a> \n    \n   \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n  \n    \n    \n      \n      \n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Id</th>\n\n\n<td class=\"content-container\">4</td>\n</tr>\n\n\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Title</th>\n\n\n<td class=\"content-container\">Conduct hypertension counselling</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n\n<td class=\"content-container\">Conduct hypertension counselling</td>\n</tr>\n\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Human-interpretable Description</th>\n\n\n<td class=\"content-container\">Woman has hypertension – SBP of 140 mmHg or higher and/or DBP of 90 mmHg or higher and no proteinuria.\n\nCounselling:\n– Advice to reduce workload and to rest\n– Advise on danger signs\n– Reassess at the next contact or in 1 week if 8 months pregnant\n– If hypertension persists after 1 week or at next contact, refer to hospital or discuss case with the doctor, if available</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Condition</th>\n  <td class=\"content-container\">\n  <em>Kind</em>: Applicability\n  \n    <br/>\n    \n      \n      <em>Logic Definition</em>: <a href=\"#ancdt17-should-conduct-hypertension-counselling\">Should Conduct hypertension counselling</a> \n    \n   \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n  \n\n\n\n<tr>\n\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">PlanDefinition Logic</th>\n\n\n</tr>\n\n<tr>\n\n\n<th scope=\"row\" class=\"row-header\">Primary Library</th>\n\n\n<td class=\"content-container\"><a href=\"Library-ANCDT17.html\">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</a></td>\n</tr>\n\n\n\n\n  \n  \n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library FHIRHelpers\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <code>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</code>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library ContactData\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-ANCContactDataElements.html\">ANC Contact Data Elements</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCContactDataElements</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library WC\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-WHOCommon.html\">WHO Common</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/WHOCommon</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library Cx\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"Library-ANCConcepts.html\">ANC Concepts</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCConcepts</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Systolic blood pressure\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de17.html\">Systolic blood pressure</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de17</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Repeat systolic blood pressure\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de20.html\">Repeat systolic blood pressure</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de20</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Symptoms of severe pre-eclampsia\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de27.html\">Symptoms of severe pre-eclampsia</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de27</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Symptoms of severe pre-eclampsia Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de29.html\">Symptoms of severe pre-eclampsia Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de29</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Diastolic blood pressure\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de19.html\">Diastolic blood pressure</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de19</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Repeat diastolic blood pressure\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de21.html\">Repeat diastolic blood pressure</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de21</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Symptoms of severe pre-eclampsia - No symptoms Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b8-de28.html\">Symptoms of severe pre-eclampsia - No symptoms Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de28</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de144.html\">Urine dipstick result - protein</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de144</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein - 2 plus Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de147.html\">Urine dipstick result - protein - 2 plus Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de147</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein - 3 plus Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de148.html\">Urine dipstick result - protein - 3 plus Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de148</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein - 4 plus Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de149.html\">Urine dipstick result - protein - 4 plus Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de149</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Existing chronic health conditions\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b6-de83.html\">Existing chronic health conditions</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de83</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Existing chronic health conditions - Hypertension Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b6-de96.html\">Existing chronic health conditions - Hypertension Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de96</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein - 1 plus Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de146.html\">Urine dipstick result - protein - 1 plus Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de146</tt>\n    \n    \n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n\n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urine dipstick result - protein - None Choices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: <a href=\"ValueSet-anc-b9-de145.html\">Urine dipstick result - protein - None Choices</a>\n    <br/>\n    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de145</tt>\n    \n    \n    \n  </td>\n</tr>\n\n\n  \n  \n  \n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: encounter\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: In\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: string\n    \n  </td>\n</tr>\n\n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: Should Refer urgently to a hospital\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: Out\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: boolean\n    \n  </td>\n</tr>\n\n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: Should Conduct hypertension counselling\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: Out\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: boolean\n    \n  </td>\n</tr>\n\n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: Should Refer urgently to a hospital 3\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: Out\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: boolean\n    \n  </td>\n</tr>\n\n<tr>\n  \n\n<th scope=\"row\" class=\"row-header\">Parameter</th>\n\n\n  <td class=\"content-container\">\n    \n    <em>Name</em>: Should Refer urgently to a hospital 2\n    \n    \n    <br/>\n    \n    \n    <em>Use</em>: Out\n    \n    \n    <br/>\n    \n    \n    <em>Min Cardinality</em>: 0\n    \n    \n    <br/>\n    \n    \n    <em>Max Cardinality</em>: 1\n    \n    \n    <br/>\n    \n    \n    <em>Type</em>: boolean\n    \n  </td>\n</tr>\n\n  \n  \n  <tr>\n    <th colspan=\"2\" scope=\"row\" class=\"section-header\"><a name=\"effective-data-requirements\"> </a>PlanDefinition Logic Data Requirements</th>\n  </tr>\n  \n  \n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b8-de17.html\">Systolic blood pressure</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b8-de19.html\">Diastolic blood pressure</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b8-de21.html\">Repeat diastolic blood pressure</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b9-de144.html\">Urine dipstick result - protein</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b6-de83.html\">Existing chronic health conditions</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b8-de20.html\">Repeat systolic blood pressure</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    <a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a>\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> <a href=\"ValueSet-anc-b8-de27.html\">Symptoms of severe pre-eclampsia</a>\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n  \n  <tr>\n  <th scope=\"row\" rowspan=\"2\" class=\"row-header\">\n    \n    Logic Definition\n  </th>\n\n</tr>\n<tr>\n\n</tr>\n\n  \n\n<tr>\n  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.9-cibuild of the sample-content-ig Liquid templates</th>\n</tr>\n\n    </tbody>\n  </table>\n</div>"
  },
  "contained" : [{
    "resourceType" : "Library",
    "id" : "effective-data-requirements",
    "name" : "EffectiveDataRequirements",
    "status" : "active",
    "type" : {
      "coding" : [{
        "system" : "http://terminology.hl7.org/CodeSystem/library-type",
        "code" : "module-definition"
      }]
    },
    "relatedArtifact" : [{
      "type" : "depends-on",
      "display" : "Library FHIRHelpers",
      "resource" : "http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"
    },
    {
      "type" : "depends-on",
      "display" : "Library ContactData",
      "resource" : "http://smart.who.int/anc/Library/ANCContactDataElements"
    },
    {
      "type" : "depends-on",
      "display" : "Library WC",
      "resource" : "http://smart.who.int/anc/Library/WHOCommon"
    },
    {
      "type" : "depends-on",
      "display" : "Library Cx",
      "resource" : "http://smart.who.int/anc/Library/ANCConcepts"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Systolic blood pressure",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de17"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Repeat systolic blood pressure",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de20"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Symptoms of severe pre-eclampsia",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de27"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Symptoms of severe pre-eclampsia Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de29"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Diastolic blood pressure",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de19"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Repeat diastolic blood pressure",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de21"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Symptoms of severe pre-eclampsia - No symptoms Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b8-de28"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de144"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein - 2 plus Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de147"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein - 3 plus Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de148"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein - 4 plus Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de149"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Existing chronic health conditions",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b6-de83"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Existing chronic health conditions - Hypertension Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b6-de96"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein - 1 plus Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de146"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Urine dipstick result - protein - None Choices",
      "resource" : "http://smart.who.int/anc/ValueSet/anc-b9-de145"
    }],
    "parameter" : [{
      "name" : "encounter",
      "use" : "in",
      "min" : 0,
      "max" : "1",
      "type" : "string"
    },
    {
      "name" : "Should Refer urgently to a hospital",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    },
    {
      "name" : "Should Conduct hypertension counselling",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    },
    {
      "name" : "Should Refer urgently to a hospital 3",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    },
    {
      "name" : "Should Refer urgently to a hospital 2",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    }],
    "dataRequirement" : [{
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b8-de17"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b8-de19"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b8-de21"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b9-de144"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference",
      "value"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b6-de83"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b8-de20"
      }]
    },
    {
      "type" : "Observation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Observation"],
      "mustSupport" : ["code",
      "status",
      "encounter",
      "encounter.reference",
      "value"],
      "codeFilter" : [{
        "path" : "code",
        "valueSet" : "http://smart.who.int/anc/ValueSet/anc-b8-de27"
      }]
    }]
  }],
  "extension" : [{
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Systolic blood pressure"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B8.DE17 Systolic blood pressure\n  @activity: ANC.B8 Physical exam\n  @description: Systolic blood pressure (SBP) in mmHg\n*/\ndefine \"Systolic blood pressure\":\n  WC.Earliest(\n  [Observation: Cx.\"Systolic blood pressure\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.Quantity"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 0
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Repeat systolic blood pressure"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B8.DE20 Repeat systolic blood pressure\n  @activity: ANC.B8 Physical exam\n  @description: Repeat measurement of the woman's systolic blood pressure in mmHg after 10–15 minutes rest\n*/\ndefine \"Repeat systolic blood pressure\":\n  WC.MostRecent(\n  [Observation: Cx.\"Repeat systolic blood pressure\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.Quantity"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 1
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Symptoms of severe pre-eclampsia"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B8.DE27 Symptoms of severe pre-eclampsia\n  @activity: ANC.B8 Physical exam\n  @description: Check if the woman has any of the following symptoms of severe pre-eclampsia\n*/\ndefine \"Symptoms of severe pre-eclampsia\":\n  [Observation: Cx.\"Symptoms of severe pre-eclampsia\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 2
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Diastolic blood pressure"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B8.DE19 Diastolic blood pressure\n  @activity: ANC.B8 Physical exam\n  @description: Diastolic blood pressure (DBP) in mmHg\n*/\ndefine \"Diastolic blood pressure\":\n  WC.Earliest(\n  [Observation: Cx.\"Diastolic blood pressure\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.Quantity"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 3
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Repeat diastolic blood pressure"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B8.DE21 Repeat diastolic blood pressure\n  @activity: ANC.B8 Physical exam\n  @description: Repeat measurement of the woman's diastolic blood pressure in mmHg after 10–15 minutes rest\n*/\ndefine \"Repeat diastolic blood pressure\":\n  WC.MostRecent(\n  [Observation: Cx.\"Repeat diastolic blood pressure\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.Quantity"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 4
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Urine dipstick result - protein"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B9.DE144 Urine dipstick result - protein\n  @activity: ANC.B9 Lab tests & imaging\n  @description: Enter the result for the dipstick test – protein\n*/\ndefine \"Urine dipstick result - protein\":\n  WC.Only(\n  [Observation: Cx.\"Urine dipstick result - protein\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 5
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCDT17"
    },
    {
      "url" : "name",
      "valueString" : "Should Refer urgently to a hospital"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n((((((((((((((((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Severe headache\"))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Severe headache\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Blurred vision\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Blurred vision\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Epigastric pain\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Epigastric pain\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Dizziness\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Dizziness\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Vomiting\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Vomiting\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++++\"))\n*/\ndefine \"Should Refer urgently to a hospital\":\n  (\n    ContactData.\"Systolic blood pressure\" >= 140 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" >= 140 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" >= 90 'mm[Hg]'\n      and ContactData.\"Repeat diastolic blood pressure\" >= 90 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia Choices\"\n  ) or\n  (\n    ContactData.\"Systolic blood pressure\" >= 140 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" >= 140 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and (\n        ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 2 plus Choices\"\n        or ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 3 plus Choices\"\n        or ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 4 plus Choices\"\n      )\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" >= 90 'mm[Hg]'\n      and ContactData.\"Repeat diastolic blood pressure\" >= 90 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and (\n        ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 2 plus Choices\"\n        or ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 3 plus Choices\"\n        or ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 4 plus Choices\"\n      )\n  )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 6
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCContactDataElements"
    },
    {
      "url" : "name",
      "valueString" : "Existing chronic health conditions"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n  @dataElement: ANC.B6.DE83 Existing chronic health conditions\n  @activity: ANC.B6 Profile\n  @description: Does the woman have any current chronic health conditions or problems?\n*/\ndefine \"Existing chronic health conditions\":\n  [Observation: Cx.\"Existing chronic health conditions\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 7
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCDT17"
    },
    {
      "url" : "name",
      "valueString" : "Should Conduct hypertension counselling"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n((((\"Existing chronic health conditions\" = \"Hypertension\")\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (Urine dipstick result – protein\" = \"None\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\"))\n*/\ndefine \"Should Conduct hypertension counselling\":\n  ContactData.\"Existing chronic health conditions\" in Cx.\"Existing chronic health conditions - Hypertension Choices\"\n    or (\n      ContactData.\"Systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n        and ContactData.\"Repeat systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n        and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 1 plus Choices\"\n    )\n    or (\n      ContactData.\"Diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n        and ContactData.\"Repeat diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n        and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 1 plus Choices\"\n    )\n    or (\n      ContactData.\"Systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n        and ContactData.\"Repeat systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n        and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - None Choices\"\n    )\n    or (\n      ContactData.\"Diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n        and ContactData.\"Repeat diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n        and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - None Choices\"\n    )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 8
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCDT17"
    },
    {
      "url" : "name",
      "valueString" : "Should Refer urgently to a hospital 3"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n((((\"Systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\"))\n  OR ((\"Diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((\"Systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\")))\n  OR ((\"Diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\"))\n*/\ndefine \"Should Refer urgently to a hospital 3\":\n  (\n    ContactData.\"Systolic blood pressure\" >= 160 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" >= 160 'mm[Hg]'\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 1 plus Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" >= 110 'mm[Hg]'\n      and ContactData.\"Repeat diastolic blood pressure\" >= 110 'mm[Hg]'\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 1 plus Choices\"\n  ) or\n  (\n    ContactData.\"Systolic blood pressure\" >= 160 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" value >= 160 'mm[Hg]'\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - None Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" >= 110 'mm[Hg]'\n      and ContactData.\"Repeat diastolic blood pressure\" >= 110 'mm[Hg]'\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - None Choices\"\n  )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 9
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "ANCDT17"
    },
    {
      "url" : "name",
      "valueString" : "Should Refer urgently to a hospital 2"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n(((((((\"Systolic blood pressure\" ≤ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≤ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\"))\n  OR ((\"Systolic blood pressure\" > 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" > 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg – \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++++\"))\n*/\ndefine \"Should Refer urgently to a hospital 2\":\n  (\n    ContactData.\"Systolic blood pressure\" <= 140 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" <= 140 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 2 plus Choices\"\n  ) or\n  (\n    ContactData.\"Systolic blood pressure\" > 160 'mm[Hg]'\n      and ContactData.\"Repeat systolic blood pressure\" > 160 'mm[Hg]'\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 2 plus Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Repeat diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 2 plus Choices\"\n  ) or\n  (\n    ContactData.\"Systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n      and ContactData.\"Repeat systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 3 plus Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Repeat diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 3 plus Choices\"\n  ) or\n  (\n    ContactData.\"Systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n      and ContactData.\"Repeat systolic blood pressure\" in Interval[140 'mm[Hg]', 160 'mm[Hg]']\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 4 plus Choices\"\n  ) or\n  (\n    ContactData.\"Diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Repeat diastolic blood pressure\" in Interval[90 'mm[Hg]', 110 'mm[Hg]']\n      and ContactData.\"Symptoms of severe pre-eclampsia\" in Cx.\"Symptoms of severe pre-eclampsia - No symptoms Choices\"\n      and ContactData.\"Urine dipstick result - protein\" in Cx.\"Urine dipstick result - protein - 4 plus Choices\"\n  )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 10
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToQuantity"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 11
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToCalendarUnit"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 12
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "WHOCommon"
    },
    {
      "url" : "name",
      "valueString" : "Earliest"
    },
    {
      "url" : "statement",
      "valueString" : "define function Earliest(observations List<Observation>):\n  First(\n    observations O\n      sort by issued\n  )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 13
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToString"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToString(value ObservationStatus): value.value"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 14
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToBoolean"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToBoolean(value boolean): value.value"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 15
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "WHOCommon"
    },
    {
      "url" : "name",
      "valueString" : "ModifierExtension"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.\n@comment: This function uses singleton from to ensure that a run-time exception is thrown if there\nis more than one extension on the given resource with the specified url.\n*/\ndefine function ModifierExtension(domainResource DomainResource, id String):\n  singleton from ModifierExtensions(domainResource, id)"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 16
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "WHOCommon"
    },
    {
      "url" : "name",
      "valueString" : "ModifierExtensions"
    },
    {
      "url" : "statement",
      "valueString" : "/*\n@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.\n@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access\ncontent that is defined by extensions but not yet surfaced in the\nCQL model info.\n*/\ndefine function ModifierExtensions(domainResource DomainResource, id String):\n  domainResource.modifierExtension E\n\t  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)\n\t\treturn E"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 17
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToString"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToString(value uri): value.value"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 18
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToString"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToString(value string): value.value"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 19
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "WHOCommon"
    },
    {
      "url" : "name",
      "valueString" : "MostRecent"
    },
    {
      "url" : "statement",
      "valueString" : "define function MostRecent(observations List<Observation>):\n  Last(\n    observations O\n      sort by issued\n  )"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 20
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToConcept"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 21
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "FHIRHelpers"
    },
    {
      "url" : "name",
      "valueString" : "ToCode"
    },
    {
      "url" : "statement",
      "valueString" : "define function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 22
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "extension" : [{
      "url" : "libraryName",
      "valueString" : "WHOCommon"
    },
    {
      "url" : "name",
      "valueString" : "Only"
    },
    {
      "url" : "statement",
      "valueString" : "define function Only(observations List<Observation>):\n  singleton from observations"
    },
    {
      "url" : "displaySequence",
      "valueInteger" : 23
    }],
    "url" : "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"
  },
  {
    "id" : "effective-data-requirements",
    "url" : "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements",
    "valueCanonical" : "#effective-data-requirements"
  },
  {
    "url" : "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference" : {
      "reference" : "Device/cqf-tooling"
    }
  }],
  "url" : "http://smart.who.int/anc/PlanDefinition/ANCDT17",
  "identifier" : [{
    "use" : "official",
    "value" : "ANC.DT.17"
  }],
  "version" : "0.3.0",
  "name" : "ANCDT17",
  "title" : "ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis",
  "type" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/plan-definition-type",
      "code" : "eca-rule"
    }]
  },
  "status" : "active",
  "experimental" : false,
  "date" : "2025-06-24T13:58:48-06:00",
  "publisher" : "World Health Organization (WHO)",
  "contact" : [{
    "telecom" : [{
      "system" : "url",
      "value" : "https://www.who.int"
    }]
  }],
  "description" : "If the woman presents with any of the following symptoms and/or test results, conduct counselling and referral as needed",
  "useContext" : [{
    "code" : {
      "system" : "http://terminology.hl7.org/CodeSystem/usage-context-type",
      "code" : "task",
      "display" : "Workflow Task"
    },
    "valueCodeableConcept" : {
      "coding" : [{
        "system" : "http://smart.who.int/anc/CodeSystem/activity-codes",
        "code" : "ANC.B10.4.",
        "display" : "Diagnosis and treatment"
      }]
    }
  }],
  "jurisdiction" : [{
    "coding" : [{
      "system" : "http://unstats.un.org/unsd/methods/m49/m49.htm",
      "code" : "001"
    }]
  }],
  "library" : ["http://smart.who.int/anc/Library/ANCDT17"],
  "action" : [{
    "title" : "ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis",
    "trigger" : [{
      "type" : "named-event",
      "name" : "ANC.B10.4. Diagnosis and treatment"
    }],
    "action" : [{
      "id" : "1",
      "title" : "Refer urgently to a hospital",
      "description" : "Refer urgently to a hospital",
      "textEquivalent" : "Symptom(s) of severe pre-eclampsia! Refer urgently to hospital!\nWoman has hypertension. If she is experiencing a symptom of severe pre-eclampsia, then refer urgently to the hospital for further investigation and management.\n\nProcedure\n– Give magnesium sulphate\n– Give appropriate anti-hypertensives\n– Revise the birth plan\n– Refer urgently to hospital",
      "documentation" : [{
        "type" : "citation",
        "label" : "Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): recommendation C3 (1)\nManaging complications guide (IMPAC) (2017): Section S-53, Table S-12 (5)"
      }],
      "condition" : [{
        "kind" : "applicability",
        "expression" : {
          "description" : "((((((((((((((((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Severe headache\"))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Severe headache\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Blurred vision\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Blurred vision\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Epigastric pain\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Epigastric pain\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Dizziness\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Dizziness\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Vomiting\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"Vomiting\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((\"Systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++++\")))\n  OR ((\"Diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 90 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"None\")\n  AND (\"Urine dipstick result – protein\" = \"++++\"))",
          "language" : "text/cql-identifier",
          "expression" : "Should Refer urgently to a hospital"
        }
      }]
    },
    {
      "id" : "2",
      "title" : "Refer urgently to a hospital",
      "description" : "Refer urgently to a hospital 2",
      "textEquivalent" : "Pre-eclampsia diagnosis! Refer to hospital and revise birth plan.\nWoman has pre-eclampsia – SBP of 140 mmHg or above and/or DBP of 90 mmHg or above and proteinuria 2+ and no symptom of severe pre-eclampsia.\n\nProcedure: \n– Refer to hospital \n– Revise the birth plan",
      "documentation" : [{
        "type" : "citation",
        "label" : "Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): recommendation C3 (1) \nManaging complications guide (IMPAC) (2017): Section S-52, Table S-12 (5)\nWHO pre-eclampsia and eclampsia recommendations (2011): 6, 7 (7)"
      }],
      "condition" : [{
        "kind" : "applicability",
        "expression" : {
          "description" : "(((((((\"Systolic blood pressure\" ≤ 140 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≤ 140 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\"))\n  OR ((\"Systolic blood pressure\" > 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" > 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg – \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"+++\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++++\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Symptoms of severe pre-eclampsia\" = \"No symptoms of severe pre-eclampsia\")\n  AND (\"Urine dipstick result – protein\" = \"++++\"))",
          "language" : "text/cql-identifier",
          "expression" : "Should Refer urgently to a hospital 2"
        }
      }]
    },
    {
      "id" : "3",
      "title" : "Refer urgently to a hospital",
      "description" : "Refer urgently to a hospital 3",
      "textEquivalent" : "Woman has severe hypertension. If SBP is 160 mmHg or higher and/or DBP is 110 mmHg or higher, then refer urgently to the hospital for further investigation and management.",
      "documentation" : [{
        "type" : "citation",
        "label" : "Managing complications guide (IMPAC) (2017): S-61 (5)\nWHO pre-eclampsia and eclampsia recommendations (2011): 4 (7)"
      }],
      "condition" : [{
        "kind" : "applicability",
        "expression" : {
          "description" : "((((\"Systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\"))\n  OR ((\"Diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((\"Systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Repeat systolic blood pressure\" ≥ 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\")))\n  OR ((\"Diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Repeat diastolic blood pressure\" ≥ 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\"))",
          "language" : "text/cql-identifier",
          "expression" : "Should Refer urgently to a hospital 3"
        }
      }]
    },
    {
      "id" : "4",
      "title" : "Conduct hypertension counselling",
      "description" : "Conduct hypertension counselling",
      "textEquivalent" : "Woman has hypertension – SBP of 140 mmHg or higher and/or DBP of 90 mmHg or higher and no proteinuria.\n\nCounselling:\n– Advice to reduce workload and to rest\n– Advise on danger signs\n– Reassess at the next contact or in 1 week if 8 months pregnant\n– If hypertension persists after 1 week or at next contact, refer to hospital or discuss case with the doctor, if available",
      "documentation" : [{
        "type" : "citation",
        "label" : "Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): C3 (1)"
      }],
      "condition" : [{
        "kind" : "applicability",
        "expression" : {
          "description" : "((((\"Existing chronic health conditions\" = \"Hypertension\")\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"+\")))\n  OR ((140 mmHg ≤ \"Systolic blood pressure\" < 160 mmHg)\n  AND (140 mmHg ≤ \"Repeat systolic blood pressure\" < 160 mmHg)\n  AND (Urine dipstick result – protein\" = \"None\")))\n  OR ((90 mmHg ≤ \"Diastolic blood pressure\" < 110 mmHg)\n  AND (90 mmHg ≤ \"Repeat diastolic blood pressure\" < 110 mmHg)\n  AND (\"Urine dipstick result – protein\" = \"None\"))",
          "language" : "text/cql-identifier",
          "expression" : "Should Conduct hypertension counselling"
        }
      }]
    }]
  }]
}