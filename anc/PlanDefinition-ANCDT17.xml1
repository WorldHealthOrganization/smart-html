<?xml version="1.0" encoding="UTF-8"?>

<PlanDefinition xmlns="http://hl7.org/fhir">
  <id value="ANCDT17"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">
  <table class="narrative-table">
    <tbody>
<tr>


<th colspan="2" scope="row" class="row-header">Metadata</th>


</tr>

<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</td>
</tr>



<tr>


<th scope="row" class="row-header">Version</th>


<td class="content-container">0.3.0</td>
</tr>







  
<tr>


<th scope="row" class="row-header">Identifier</th>


<td class="content-container">ANC.DT.17</td>
</tr>









<tr>


<th scope="row" class="row-header">Use Context</th>


<td class="content-container"><span title="{http://terminology.hl7.org/CodeSystem/usage-context-type task}">Workflow Task</span> = <span title="Codes:{http://smart.who.int/anc/CodeSystem/activity-codes ANC.B10.4.}">Diagnosis and treatment</span></td>
</tr>


<tr>


<th scope="row" class="row-header">Jurisdiction</th>


<td class="content-container"><span title="Codes:{http://unstats.un.org/unsd/methods/m49/m49.htm 001}">Global (Whole world)</span></td>
</tr>








<tr>


<th scope="row" class="row-header">Steward (Publisher)</th>


<td class="content-container">World Health Organization (WHO)</td>
</tr>









<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container"><div><p>If the woman presents with any of the following symptoms and/or test results, conduct counselling and referral as needed</p>
</div></td>
</tr>






<tr>


<th scope="row" class="row-header">Type</th>


<td class="content-container"><span title="Codes:{http://terminology.hl7.org/CodeSystem/plan-definition-type eca-rule}">ECA Rule</span></td>
</tr>




<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Action</th>


</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</td>
</tr>










<tr>


<th scope="row" class="row-header">Trigger Type</th>


<td class="content-container">Named Event</td>
</tr>


<tr>


<th scope="row" class="row-header">Trigger Name</th>


<td class="content-container">ANC.B10.4. Diagnosis and treatment</td>
</tr>

















  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">1</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Refer urgently to a hospital</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Refer urgently to a hospital</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Symptom(s) of severe pre-eclampsia! Refer urgently to hospital!
Woman has hypertension. If she is experiencing a symptom of severe pre-eclampsia, then refer urgently to the hospital for further investigation and management.

Procedure
– Give magnesium sulphate
– Give appropriate anti-hypertensives
– Revise the birth plan
– Refer urgently to hospital</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt17-should-refer-urgently-to-a-hospital">Should Refer urgently to a hospital</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">2</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Refer urgently to a hospital</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Refer urgently to a hospital 2</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Pre-eclampsia diagnosis! Refer to hospital and revise birth plan.
Woman has pre-eclampsia – SBP of 140 mmHg or above and/or DBP of 90 mmHg or above and proteinuria 2+ and no symptom of severe pre-eclampsia.

Procedure: 
– Refer to hospital 
– Revise the birth plan</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt17-should-refer-urgently-to-a-hospital-2">Should Refer urgently to a hospital 2</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">3</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Refer urgently to a hospital</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Refer urgently to a hospital 3</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Woman has severe hypertension. If SBP is 160 mmHg or higher and/or DBP is 110 mmHg or higher, then refer urgently to the hospital for further investigation and management.</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt17-should-refer-urgently-to-a-hospital-3">Should Refer urgently to a hospital 3</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">4</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct hypertension counselling</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct hypertension counselling</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Woman has hypertension – SBP of 140 mmHg or higher and/or DBP of 90 mmHg or higher and no proteinuria.

Counselling:
– Advice to reduce workload and to rest
– Advise on danger signs
– Reassess at the next contact or in 1 week if 8 months pregnant
– If hypertension persists after 1 week or at next contact, refer to hospital or discuss case with the doctor, if available</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt17-should-conduct-hypertension-counselling">Should Conduct hypertension counselling</a> 
    
   
  </td>
</tr>















    
  



<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Logic</th>


</tr>

<tr>


<th scope="row" class="row-header">Primary Library</th>


<td class="content-container"><a href="Library-ANCDT17.html">ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis</a></td>
</tr>




  
  

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library FHIRHelpers
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <code>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</code>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library ContactData
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-ANCContactDataElements.html">ANC Contact Data Elements</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCContactDataElements</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library WC
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-WHOCommon.html">WHO Common</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/WHOCommon</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library Cx
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-ANCConcepts.html">ANC Concepts</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCConcepts</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Systolic blood pressure
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de17.html">Systolic blood pressure</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de17</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Repeat systolic blood pressure
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de20.html">Repeat systolic blood pressure</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de20</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Symptoms of severe pre-eclampsia
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de27.html">Symptoms of severe pre-eclampsia</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de27</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Symptoms of severe pre-eclampsia Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de29.html">Symptoms of severe pre-eclampsia Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de29</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Diastolic blood pressure
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de19.html">Diastolic blood pressure</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de19</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Repeat diastolic blood pressure
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de21.html">Repeat diastolic blood pressure</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de21</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Symptoms of severe pre-eclampsia - No symptoms Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b8-de28.html">Symptoms of severe pre-eclampsia - No symptoms Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b8-de28</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de144.html">Urine dipstick result - protein</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de144</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein - 2 plus Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de147.html">Urine dipstick result - protein - 2 plus Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de147</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein - 3 plus Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de148.html">Urine dipstick result - protein - 3 plus Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de148</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein - 4 plus Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de149.html">Urine dipstick result - protein - 4 plus Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de149</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Existing chronic health conditions
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de83.html">Existing chronic health conditions</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de83</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Existing chronic health conditions - Hypertension Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de96.html">Existing chronic health conditions - Hypertension Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de96</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein - 1 plus Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de146.html">Urine dipstick result - protein - 1 plus Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de146</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Urine dipstick result - protein - None Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b9-de145.html">Urine dipstick result - protein - None Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b9-de145</tt>
    
    
    
  </td>
</tr>


  
  
  
<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: encounter
    
    
    <br/>
    
    
    <em>Use</em>: In
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: string
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Refer urgently to a hospital
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct hypertension counselling
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Refer urgently to a hospital 3
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Refer urgently to a hospital 2
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

  
  
  <tr>
    <th colspan="2" scope="row" class="section-header"><a name="effective-data-requirements"> </a>PlanDefinition Logic Data Requirements</th>
  </tr>
  
  
<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b8-de17.html">Systolic blood pressure</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b8-de19.html">Diastolic blood pressure</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b8-de21.html">Repeat diastolic blood pressure</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b9-de144.html">Urine dipstick result - protein</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de83.html">Existing chronic health conditions</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b8-de20.html">Repeat systolic blood pressure</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b8-de27.html">Symptoms of severe pre-eclampsia</a>
    <br/> 
  
  
  
   
  </td>
</tr>

  
  <tr>
  <th scope="row" rowspan="2" class="row-header">
    
    Logic Definition
  </th>

</tr>
<tr>

</tr>

  

<tr>
  <th colspan="2" scope="row" class="row-header">Generated using version 0.4.9-cibuild of the sample-content-ig Liquid templates</th>
</tr>

    </tbody>
  </table>
</div>
  </text>
  <contained>
    <Library>
      <id value="effective-data-requirements"/>
      <name value="EffectiveDataRequirements"/>
      <status value="active"/>
      <type>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/library-type"/>
          <code value="module-definition"/>
        </coding>
      </type>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library FHIRHelpers"/>
        <resource value="http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library ContactData"/>
        <resource value="http://smart.who.int/anc/Library/ANCContactDataElements"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library WC"/>
        <resource value="http://smart.who.int/anc/Library/WHOCommon"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library Cx"/>
        <resource value="http://smart.who.int/anc/Library/ANCConcepts"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Systolic blood pressure"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de17"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Repeat systolic blood pressure"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de20"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Symptoms of severe pre-eclampsia"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de27"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Symptoms of severe pre-eclampsia Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de29"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Diastolic blood pressure"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de19"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Repeat diastolic blood pressure"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de21"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Symptoms of severe pre-eclampsia - No symptoms Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b8-de28"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de144"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein - 2 plus Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de147"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein - 3 plus Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de148"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein - 4 plus Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de149"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Existing chronic health conditions"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de83"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Existing chronic health conditions - Hypertension Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de96"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein - 1 plus Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de146"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Urine dipstick result - protein - None Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b9-de145"/>
      </relatedArtifact>
      <parameter>
        <name value="encounter"/>
        <use value="in"/>
        <min value="0"/>
        <max value="1"/>
        <type value="string"/>
      </parameter>
      <parameter>
        <name value="Should Refer urgently to a hospital"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Conduct hypertension counselling"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Refer urgently to a hospital 3"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Refer urgently to a hospital 2"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b8-de17"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b8-de19"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b8-de21"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b9-de144"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de83"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b8-de20"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b8-de27"/>
        </codeFilter>
      </dataRequirement>
    </Library>
  </contained>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Systolic blood pressure"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B8.DE17 Systolic blood pressure&#xA;  @activity: ANC.B8 Physical exam&#xA;  @description: Systolic blood pressure (SBP) in mmHg&#xA;*/&#xA;define &quot;Systolic blood pressure&quot;:&#xA;  WC.Earliest(&#xA;  [Observation: Cx.&quot;Systolic blood pressure&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.Quantity"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="0"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Repeat systolic blood pressure"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B8.DE20 Repeat systolic blood pressure&#xA;  @activity: ANC.B8 Physical exam&#xA;  @description: Repeat measurement of the woman's systolic blood pressure in mmHg after 10–15 minutes rest&#xA;*/&#xA;define &quot;Repeat systolic blood pressure&quot;:&#xA;  WC.MostRecent(&#xA;  [Observation: Cx.&quot;Repeat systolic blood pressure&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.Quantity"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="1"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Symptoms of severe pre-eclampsia"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B8.DE27 Symptoms of severe pre-eclampsia&#xA;  @activity: ANC.B8 Physical exam&#xA;  @description: Check if the woman has any of the following symptoms of severe pre-eclampsia&#xA;*/&#xA;define &quot;Symptoms of severe pre-eclampsia&quot;:&#xA;  [Observation: Cx.&quot;Symptoms of severe pre-eclampsia&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;    return O.value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="2"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Diastolic blood pressure"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B8.DE19 Diastolic blood pressure&#xA;  @activity: ANC.B8 Physical exam&#xA;  @description: Diastolic blood pressure (DBP) in mmHg&#xA;*/&#xA;define &quot;Diastolic blood pressure&quot;:&#xA;  WC.Earliest(&#xA;  [Observation: Cx.&quot;Diastolic blood pressure&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.Quantity"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="3"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Repeat diastolic blood pressure"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B8.DE21 Repeat diastolic blood pressure&#xA;  @activity: ANC.B8 Physical exam&#xA;  @description: Repeat measurement of the woman's diastolic blood pressure in mmHg after 10–15 minutes rest&#xA;*/&#xA;define &quot;Repeat diastolic blood pressure&quot;:&#xA;  WC.MostRecent(&#xA;  [Observation: Cx.&quot;Repeat diastolic blood pressure&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.Quantity"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="4"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Urine dipstick result - protein"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B9.DE144 Urine dipstick result - protein&#xA;  @activity: ANC.B9 Lab tests &amp; imaging&#xA;  @description: Enter the result for the dipstick test – protein&#xA;*/&#xA;define &quot;Urine dipstick result - protein&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Urine dipstick result - protein&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="5"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT17"/>
    </extension>
    <extension url="name">
      <valueString value="Should Refer urgently to a hospital"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((((((((((((((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Severe headache&quot;))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Severe headache&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Blurred vision&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Blurred vision&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Epigastric pain&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Epigastric pain&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Dizziness&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Dizziness&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Vomiting&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Vomiting&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;))&#xA;*/&#xA;define &quot;Should Refer urgently to a hospital&quot;:&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &gt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; &gt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; &gt;= 90 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; &gt;= 90 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &gt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; &gt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and (&#xA;        ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 2 plus Choices&quot;&#xA;        or ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 3 plus Choices&quot;&#xA;        or ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 4 plus Choices&quot;&#xA;      )&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; &gt;= 90 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; &gt;= 90 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and (&#xA;        ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 2 plus Choices&quot;&#xA;        or ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 3 plus Choices&quot;&#xA;        or ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 4 plus Choices&quot;&#xA;      )&#xA;  )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="6"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Existing chronic health conditions"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE83 Existing chronic health conditions&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Does the woman have any current chronic health conditions or problems?&#xA;*/&#xA;define &quot;Existing chronic health conditions&quot;:&#xA;  [Observation: Cx.&quot;Existing chronic health conditions&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;    return O.value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="7"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT17"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct hypertension counselling"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((&quot;Existing chronic health conditions&quot; = &quot;Hypertension&quot;)&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (Urine dipstick result – protein&quot; = &quot;None&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;))&#xA;*/&#xA;define &quot;Should Conduct hypertension counselling&quot;:&#xA;  ContactData.&quot;Existing chronic health conditions&quot; in Cx.&quot;Existing chronic health conditions - Hypertension Choices&quot;&#xA;    or (&#xA;      ContactData.&quot;Systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;        and ContactData.&quot;Repeat systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;        and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 1 plus Choices&quot;&#xA;    )&#xA;    or (&#xA;      ContactData.&quot;Diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;        and ContactData.&quot;Repeat diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;        and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 1 plus Choices&quot;&#xA;    )&#xA;    or (&#xA;      ContactData.&quot;Systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;        and ContactData.&quot;Repeat systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;        and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - None Choices&quot;&#xA;    )&#xA;    or (&#xA;      ContactData.&quot;Diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;        and ContactData.&quot;Repeat diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;        and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - None Choices&quot;&#xA;    )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="8"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT17"/>
    </extension>
    <extension url="name">
      <valueString value="Should Refer urgently to a hospital 3"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((&quot;Systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;))&#xA;*/&#xA;define &quot;Should Refer urgently to a hospital 3&quot;:&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &gt;= 160 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; &gt;= 160 'mm[Hg]'&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 1 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; &gt;= 110 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; &gt;= 110 'mm[Hg]'&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 1 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &gt;= 160 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; value &gt;= 160 'mm[Hg]'&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - None Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; &gt;= 110 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; &gt;= 110 'mm[Hg]'&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - None Choices&quot;&#xA;  )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="9"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT17"/>
    </extension>
    <extension url="name">
      <valueString value="Should Refer urgently to a hospital 2"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;(((((((&quot;Systolic blood pressure&quot; ≤ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≤ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;))&#xA;  OR ((&quot;Systolic blood pressure&quot; &gt; 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; &gt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg – &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;))&#xA;*/&#xA;define &quot;Should Refer urgently to a hospital 2&quot;:&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &lt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; &lt;= 140 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 2 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; &gt; 160 'mm[Hg]'&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; &gt; 160 'mm[Hg]'&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 2 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 2 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 3 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 3 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;      and ContactData.&quot;Repeat systolic blood pressure&quot; in Interval[140 'mm[Hg]', 160 'mm[Hg]']&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 4 plus Choices&quot;&#xA;  ) or&#xA;  (&#xA;    ContactData.&quot;Diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Repeat diastolic blood pressure&quot; in Interval[90 'mm[Hg]', 110 'mm[Hg]']&#xA;      and ContactData.&quot;Symptoms of severe pre-eclampsia&quot; in Cx.&quot;Symptoms of severe pre-eclampsia - No symptoms Choices&quot;&#xA;      and ContactData.&quot;Urine dipstick result - protein&quot; in Cx.&quot;Urine dipstick result - protein - 4 plus Choices&quot;&#xA;  )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="10"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToQuantity"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToQuantity(quantity FHIR.Quantity):&#xA;    case&#xA;        when quantity is null then null&#xA;        when quantity.value is null then null&#xA;        when quantity.comparator is not null then&#xA;            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')&#xA;        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'&#xA;              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then&#xA;            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }&#xA;        else&#xA;            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' &amp; quantity.unit.value &amp; ' (' &amp; quantity.system.value &amp; '|' &amp; quantity.code.value &amp; ')')&#xA;    end"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="11"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToCalendarUnit"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToCalendarUnit(unit System.String):&#xA;    case unit&#xA;        when 'ms' then 'millisecond'&#xA;        when 's' then 'second'&#xA;        when 'min' then 'minute'&#xA;        when 'h' then 'hour'&#xA;        when 'd' then 'day'&#xA;        when 'wk' then 'week'&#xA;        when 'mo' then 'month'&#xA;        when 'a' then 'year'&#xA;        else unit&#xA;    end"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="12"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="Earliest"/>
    </extension>
    <extension url="statement">
      <valueString value="define function Earliest(observations List&lt;Observation&gt;):&#xA;  First(&#xA;    observations O&#xA;      sort by issued&#xA;  )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="13"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value ObservationStatus): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="14"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToBoolean"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToBoolean(value boolean): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="15"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="ModifierExtension"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.&#xA;@comment: This function uses singleton from to ensure that a run-time exception is thrown if there&#xA;is more than one extension on the given resource with the specified url.&#xA;*/&#xA;define function ModifierExtension(domainResource DomainResource, id String):&#xA;  singleton from ModifierExtensions(domainResource, id)"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="16"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="ModifierExtensions"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.&#xA;@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access&#xA;content that is defined by extensions but not yet surfaced in the&#xA;CQL model info.&#xA;*/&#xA;define function ModifierExtensions(domainResource DomainResource, id String):&#xA;  domainResource.modifierExtension E&#xA;&#x9;  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)&#xA;&#x9;&#x9;return E"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="17"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value uri): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="18"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value string): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="19"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="MostRecent"/>
    </extension>
    <extension url="statement">
      <valueString value="define function MostRecent(observations List&lt;Observation&gt;):&#xA;  Last(&#xA;    observations O&#xA;      sort by issued&#xA;  )"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="20"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToConcept"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToConcept(concept FHIR.CodeableConcept):&#xA;    if concept is null then&#xA;        null&#xA;    else&#xA;        System.Concept {&#xA;            codes: concept.coding C return ToCode(C),&#xA;            display: concept.text.value&#xA;        }"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="21"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToCode"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToCode(coding FHIR.Coding):&#xA;    if coding is null then&#xA;        null&#xA;    else&#xA;        System.Code {&#xA;          code: coding.code.value,&#xA;          system: coding.system.value,&#xA;          version: coding.version.value,&#xA;          display: coding.display.value&#xA;        }"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="22"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="Only"/>
    </extension>
    <extension url="statement">
      <valueString value="define function Only(observations List&lt;Observation&gt;):&#xA;  singleton from observations"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="23"/>
    </extension>
  </extension>
  <extension id="effective-data-requirements" url="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements">
    <valueCanonical value="#effective-data-requirements"/>
  </extension>
  <extension url="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem">
    <valueReference>
      <reference value="Device/cqf-tooling"/>
    </valueReference>
  </extension>
  <url value="http://smart.who.int/anc/PlanDefinition/ANCDT17"/>
  <identifier>
    <use value="official"/>
    <value value="ANC.DT.17"/>
  </identifier>
  <version value="0.3.0"/>
  <name value="ANCDT17"/>
  <title value="ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis"/>
  <type>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/plan-definition-type"/>
      <code value="eca-rule"/>
    </coding>
  </type>
  <status value="active"/>
  <experimental value="false"/>
  <date value="2025-06-24T13:58:48-06:00"/>
  <publisher value="World Health Organization (WHO)"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="https://www.who.int"/>
    </telecom>
  </contact>
  <description value="If the woman presents with any of the following symptoms and/or test results, conduct counselling and referral as needed"/>
  <useContext>
    <code>
      <system value="http://terminology.hl7.org/CodeSystem/usage-context-type"/>
      <code value="task"/>
      <display value="Workflow Task"/>
    </code>
    <valueCodeableConcept>
      <coding>
        <system value="http://smart.who.int/anc/CodeSystem/activity-codes"/>
        <code value="ANC.B10.4."/>
        <display value="Diagnosis and treatment"/>
      </coding>
    </valueCodeableConcept>
  </useContext>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="001"/>
    </coding>
  </jurisdiction>
  <library value="http://smart.who.int/anc/Library/ANCDT17"/>
  <action>
    <title value="ANC.DT.17 Pre-eclampsia, severe pre-eclampsia and hypertension diagnosis"/>
    <trigger>
      <type value="named-event"/>
      <name value="ANC.B10.4. Diagnosis and treatment"/>
    </trigger>
    <action id="1">
      <title value="Refer urgently to a hospital"/>
      <description value="Refer urgently to a hospital"/>
      <textEquivalent value="Symptom(s) of severe pre-eclampsia! Refer urgently to hospital!&#xA;Woman has hypertension. If she is experiencing a symptom of severe pre-eclampsia, then refer urgently to the hospital for further investigation and management.&#xA;&#xA;Procedure&#xA;– Give magnesium sulphate&#xA;– Give appropriate anti-hypertensives&#xA;– Revise the birth plan&#xA;– Refer urgently to hospital"/>
      <documentation>
        <type value="citation"/>
        <label value="Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): recommendation C3 (1)&#xA;Managing complications guide (IMPAC) (2017): Section S-53, Table S-12 (5)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((((((((((((((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Severe headache&quot;))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Severe headache&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Blurred vision&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Blurred vision&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Epigastric pain&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Epigastric pain&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Dizziness&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Dizziness&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Vomiting&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;Vomiting&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 90 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;None&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;))"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Refer urgently to a hospital"/>
        </expression>
      </condition>
    </action>
    <action id="2">
      <title value="Refer urgently to a hospital"/>
      <description value="Refer urgently to a hospital 2"/>
      <textEquivalent value="Pre-eclampsia diagnosis! Refer to hospital and revise birth plan.&#xA;Woman has pre-eclampsia – SBP of 140 mmHg or above and/or DBP of 90 mmHg or above and proteinuria 2+ and no symptom of severe pre-eclampsia.&#xA;&#xA;Procedure: &#xA;– Refer to hospital &#xA;– Revise the birth plan"/>
      <documentation>
        <type value="citation"/>
        <label value="Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): recommendation C3 (1) &#xA;Managing complications guide (IMPAC) (2017): Section S-52, Table S-12 (5)&#xA;WHO pre-eclampsia and eclampsia recommendations (2011): 6, 7 (7)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="(((((((&quot;Systolic blood pressure&quot; ≤ 140 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≤ 140 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;))&#xA;  OR ((&quot;Systolic blood pressure&quot; &gt; 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; &gt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg – &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+++&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Symptoms of severe pre-eclampsia&quot; = &quot;No symptoms of severe pre-eclampsia&quot;)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;++++&quot;))"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Refer urgently to a hospital 2"/>
        </expression>
      </condition>
    </action>
    <action id="3">
      <title value="Refer urgently to a hospital"/>
      <description value="Refer urgently to a hospital 3"/>
      <textEquivalent value="Woman has severe hypertension. If SBP is 160 mmHg or higher and/or DBP is 110 mmHg or higher, then refer urgently to the hospital for further investigation and management."/>
      <documentation>
        <type value="citation"/>
        <label value="Managing complications guide (IMPAC) (2017): S-61 (5)&#xA;WHO pre-eclampsia and eclampsia recommendations (2011): 4 (7)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((&quot;Systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((&quot;Systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Repeat systolic blood pressure&quot; ≥ 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;)))&#xA;  OR ((&quot;Diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Repeat diastolic blood pressure&quot; ≥ 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;))"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Refer urgently to a hospital 3"/>
        </expression>
      </condition>
    </action>
    <action id="4">
      <title value="Conduct hypertension counselling"/>
      <description value="Conduct hypertension counselling"/>
      <textEquivalent value="Woman has hypertension – SBP of 140 mmHg or higher and/or DBP of 90 mmHg or higher and no proteinuria.&#xA;&#xA;Counselling:&#xA;– Advice to reduce workload and to rest&#xA;– Advise on danger signs&#xA;– Reassess at the next contact or in 1 week if 8 months pregnant&#xA;– If hypertension persists after 1 week or at next contact, refer to hospital or discuss case with the doctor, if available"/>
      <documentation>
        <type value="citation"/>
        <label value="Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015): C3 (1)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((&quot;Existing chronic health conditions&quot; = &quot;Hypertension&quot;)&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;+&quot;)))&#xA;  OR ((140 mmHg ≤ &quot;Systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (140 mmHg ≤ &quot;Repeat systolic blood pressure&quot; &lt; 160 mmHg)&#xA;  AND (Urine dipstick result – protein&quot; = &quot;None&quot;)))&#xA;  OR ((90 mmHg ≤ &quot;Diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (90 mmHg ≤ &quot;Repeat diastolic blood pressure&quot; &lt; 110 mmHg)&#xA;  AND (&quot;Urine dipstick result – protein&quot; = &quot;None&quot;))"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct hypertension counselling"/>
        </expression>
      </condition>
    </action>
  </action>
</PlanDefinition>