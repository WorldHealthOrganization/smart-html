<?xml version="1.0" encoding="UTF-8"?>

<PlanDefinition xmlns="http://hl7.org/fhir">
  <id value="ANCDT15"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">
  <table class="narrative-table">
    <tbody>
<tr>


<th colspan="2" scope="row" class="row-header">Metadata</th>


</tr>

<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">ANC.DT.15 Behaviour counselling required</td>
</tr>



<tr>


<th scope="row" class="row-header">Version</th>


<td class="content-container">0.3.0</td>
</tr>







  
<tr>


<th scope="row" class="row-header">Identifier</th>


<td class="content-container">ANC.DT.15</td>
</tr>









<tr>


<th scope="row" class="row-header">Use Context</th>


<td class="content-container"><span title="{http://terminology.hl7.org/CodeSystem/usage-context-type task}">Workflow Task</span> = <span title="Codes:{http://smart.who.int/anc/CodeSystem/activity-codes ANC.B10.}">Counselling, in-facility management &amp; treatment </span></td>
</tr>


<tr>


<th scope="row" class="row-header">Jurisdiction</th>


<td class="content-container"><span title="Codes:{http://unstats.un.org/unsd/methods/m49/m49.htm 001}">Global (Whole world)</span></td>
</tr>








<tr>


<th scope="row" class="row-header">Steward (Publisher)</th>


<td class="content-container">World Health Organization (WHO)</td>
</tr>









<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container"><div><p>Depending on the woman's behaviours reported during the first contact and the woman's reported persistent behaviours, additional counselling may or may not be required</p>
</div></td>
</tr>






<tr>


<th scope="row" class="row-header">Type</th>


<td class="content-container"><span title="Codes:{http://terminology.hl7.org/CodeSystem/plan-definition-type eca-rule}">ECA Rule</span></td>
</tr>




<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Action</th>


</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">ANC.DT.15 Behaviour counselling required</td>
</tr>










<tr>


<th scope="row" class="row-header">Trigger Type</th>


<td class="content-container">Named Event</td>
</tr>


<tr>


<th scope="row" class="row-header">Trigger Name</th>


<td class="content-container">ANC.B10. Counselling, in-facility management &amp; treatment </td>
</tr>

















  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.15 Behaviour counselling required)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">1</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct counselling on caffeine reduction</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct counselling on caffeine reduction</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates.

This includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets); caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 ml serving</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt15-should-conduct-counselling-on-caffeine-reduction">Should Conduct counselling on caffeine reduction</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.15 Behaviour counselling required)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">2</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct counselling on tobacco cessation</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct counselling on tobacco cessation</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Health-care providers should routinely offer advice and psychosocial interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt15-should-conduct-counselling-on-tobacco-cessation">Should Conduct counselling on tobacco cessation</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.15 Behaviour counselling required)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">3</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct counselling on second-hand smoke</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct counselling on second-hand smoke</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt15-should-conduct-counselling-on-second-hand-smoke">Should Conduct counselling on second-hand smoke</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.15 Behaviour counselling required)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">4</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct counselling on condom use</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct counselling on condom use</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Advise to use condoms to prevent Zika, HIV and other STIs; if necessary, reassure it is OK to continue to have sex during pregnancy</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt15-should-conduct-counselling-on-condom-use">Should Conduct counselling on condom use</a> 
    
   
  </td>
</tr>















    
  
    
    
      
      
<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Sub-Action (Parent Action Title: ANC.DT.15 Behaviour counselling required)</th>


</tr>

<tr>


<th scope="row" class="row-header">Id</th>


<td class="content-container">5</td>
</tr>




<tr>


<th scope="row" class="row-header">Title</th>


<td class="content-container">Conduct counselling on alcohol/substance use</td>
</tr>


<tr>


<th scope="row" class="row-header">Description</th>


<td class="content-container">Conduct counselling on alcohol/substance use</td>
</tr>


<tr>


<th scope="row" class="row-header">Human-interpretable Description</th>


<td class="content-container">Health-care providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable</td>
</tr>








<tr>
  <th scope="row" class="row-header">Condition</th>
  <td class="content-container">
  <em>Kind</em>: Applicability
  
    <br/>
    
      
      <em>Logic Definition</em>: <a href="#ancdt15-should-conduct-counselling-on-alcohol/substance-use">Should Conduct counselling on alcohol/substance use</a> 
    
   
  </td>
</tr>















    
  



<tr>


<th colspan="2" scope="row" class="row-header">PlanDefinition Logic</th>


</tr>

<tr>


<th scope="row" class="row-header">Primary Library</th>


<td class="content-container"><a href="Library-ANCDT15.html">ANC.DT.15 Behaviour counselling required</a></td>
</tr>




  
  

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library ContactData
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-ANCContactDataElements.html">ANC Contact Data Elements</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCContactDataElements</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library Cx
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-ANCConcepts.html">ANC Concepts</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCConcepts</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library FHIRHelpers
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <code>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</code>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/FHIRHelpers|4.0.1</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library WC
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-WHOCommon.html">WHO Common</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/WHOCommon</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Library PatientData
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="Library-ANCDataElements.html">ANC Data Elements</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/Library/ANCDataElements</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de139.html">Daily caffeine intake</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de139</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake - More than 2 cups of coffee Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de140.html">Daily caffeine intake - More than 2 cups of coffee Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de140</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake - More than 4 cups of tea Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de141.html">Daily caffeine intake - More than 4 cups of tea Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de141</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake - More than 12 bars of chocolate Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de142.html">Daily caffeine intake - More than 12 bars of chocolate Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de142</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake - More than one can of soda or energy drink Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de143.html">Daily caffeine intake - More than one can of soda or energy drink Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de143</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Daily caffeine intake - None of the above daily caffeine intake Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de144.html">Daily caffeine intake - None of the above daily caffeine intake Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de144</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-ded9.html">Persistent behaviours</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-ded9</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - High caffeine intake Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de10.html">Persistent behaviours - High caffeine intake Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de10</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de146.html">Current alcohol and/or other substance use</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de146</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use - Alcohol Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de148.html">Current alcohol and/or other substance use - Alcohol Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de148</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - Alcohol use Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de15.html">Persistent behaviours - Alcohol use Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de15</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use - Marijuana Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de151.html">Current alcohol and/or other substance use - Marijuana Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de151</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use - Cocaine Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de149.html">Current alcohol and/or other substance use - Cocaine Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de149</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use - Injectable drugs Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de150.html">Current alcohol and/or other substance use - Injectable drugs Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de150</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Current alcohol and/or other substance use - Other (specify) Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de152.html">Current alcohol and/or other substance use - Other (specify) Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de152</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - Substance use Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de16.html">Persistent behaviours - Substance use Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de16</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Tobacco use
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de153.html">Tobacco use</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de153</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Recently quit tobacco products
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de154.html">Recently quit tobacco products</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de154</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - Recently quit tobacco products Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de12.html">Persistent behaviours - Recently quit tobacco products Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de12</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Exposure to second-hand smoke
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de155.html">Exposure to second-hand smoke</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de155</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - Exposure to second-hand smoke Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de13.html">Persistent behaviours - Exposure to second-hand smoke Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de13</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Contraceptive use of male condoms
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de160.html">Contraceptive use of male condoms</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de160</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Contraceptive use of female condoms
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b6-de161.html">Contraceptive use of female condoms</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b6-de161</tt>
    
    
    
  </td>
</tr>

<tr>
  
  
  
  
  

<th scope="row" class="row-header">Dependency</th>


  
  <td class="content-container">
    
    <em>Description</em>: Value set Persistent behaviours - No condom use during sex Choices
    
    <br/>
    
    
    
    
    
    
    <em>Resource</em>: <a href="ValueSet-anc-b7-de14.html">Persistent behaviours - No condom use during sex Choices</a>
    <br/>
    <em>Canonical URL</em>: <tt>http://smart.who.int/anc/ValueSet/anc-b7-de14</tt>
    
    
    
  </td>
</tr>


  
  
  
<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: encounter
    
    
    <br/>
    
    
    <em>Use</em>: In
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: string
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct counselling on caffeine reduction
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct counselling on alcohol/substance use
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct counselling on tobacco cessation
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct counselling on second-hand smoke
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

<tr>
  

<th scope="row" class="row-header">Parameter</th>


  <td class="content-container">
    
    <em>Name</em>: Should Conduct counselling on condom use
    
    
    <br/>
    
    
    <em>Use</em>: Out
    
    
    <br/>
    
    
    <em>Min Cardinality</em>: 0
    
    
    <br/>
    
    
    <em>Max Cardinality</em>: 1
    
    
    <br/>
    
    
    <em>Type</em>: boolean
    
  </td>
</tr>

  
  
  <tr>
    <th colspan="2" scope="row" class="section-header"><a name="effective-data-requirements"> </a>PlanDefinition Logic Data Requirements</th>
  </tr>
  
  
<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de139.html">Daily caffeine intake</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de146.html">Current alcohol and/or other substance use</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de153.html">Tobacco use</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de154.html">Recently quit tobacco products</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de155.html">Exposure to second-hand smoke</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de160.html">Contraceptive use of male condoms</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b6-de161.html">Contraceptive use of female condoms</a>
    <br/> 
  
  
  
   
  </td>
</tr>

<tr>
  <th scope="row" class="row-header">Data Requirement</th>
  <td class="content-container">
    <em>Type</em>: Observation
    <br/>
  
    <em>Profile(s)</em>: 
  
    <a href="http://hl7.org/fhir/R4/observation.html">Observation</a>
    <br/>        
  
   
   
    <em>Must Support Elements</em>: code, status, encounter, encounter.reference, value
    <br/>
   
  
    <em>Code Filter(s)</em>: 
    <br/>
  
  
    <span class="tab-one"><em>Path</em>: code</span>
    <br/>
  
  
  
    <span class="tab-one"><em>ValueSet</em>:</span> <a href="ValueSet-anc-b7-ded9.html">Persistent behaviours</a>
    <br/> 
  
  
  
   
  </td>
</tr>

  
  <tr>
  <th scope="row" rowspan="2" class="row-header">
    
    Logic Definition
  </th>

</tr>
<tr>

</tr>

  

<tr>
  <th colspan="2" scope="row" class="row-header">Generated using version 0.4.9-cibuild of the sample-content-ig Liquid templates</th>
</tr>

    </tbody>
  </table>
</div>
  </text>
  <contained>
    <Library>
      <id value="effective-data-requirements"/>
      <name value="EffectiveDataRequirements"/>
      <status value="active"/>
      <type>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/library-type"/>
          <code value="module-definition"/>
        </coding>
      </type>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library ContactData"/>
        <resource value="http://smart.who.int/anc/Library/ANCContactDataElements"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library Cx"/>
        <resource value="http://smart.who.int/anc/Library/ANCConcepts"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library FHIRHelpers"/>
        <resource value="http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library WC"/>
        <resource value="http://smart.who.int/anc/Library/WHOCommon"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library PatientData"/>
        <resource value="http://smart.who.int/anc/Library/ANCDataElements"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de139"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake - More than 2 cups of coffee Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de140"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake - More than 4 cups of tea Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de141"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake - More than 12 bars of chocolate Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de142"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake - More than one can of soda or energy drink Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de143"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Daily caffeine intake - None of the above daily caffeine intake Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de144"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-ded9"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - High caffeine intake Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de10"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de146"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use - Alcohol Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de148"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - Alcohol use Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de15"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use - Marijuana Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de151"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use - Cocaine Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de149"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use - Injectable drugs Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de150"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Current alcohol and/or other substance use - Other (specify) Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de152"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - Substance use Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de16"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Tobacco use"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de153"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Recently quit tobacco products"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de154"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - Recently quit tobacco products Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de12"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Exposure to second-hand smoke"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de155"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - Exposure to second-hand smoke Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de13"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Contraceptive use of male condoms"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de160"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Contraceptive use of female condoms"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b6-de161"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Value set Persistent behaviours - No condom use during sex Choices"/>
        <resource value="http://smart.who.int/anc/ValueSet/anc-b7-de14"/>
      </relatedArtifact>
      <parameter>
        <name value="encounter"/>
        <use value="in"/>
        <min value="0"/>
        <max value="1"/>
        <type value="string"/>
      </parameter>
      <parameter>
        <name value="Should Conduct counselling on caffeine reduction"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Conduct counselling on alcohol/substance use"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Conduct counselling on tobacco cessation"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Conduct counselling on second-hand smoke"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Should Conduct counselling on condom use"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de139"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de146"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de153"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de154"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de155"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de160"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b6-de161"/>
        </codeFilter>
      </dataRequirement>
      <dataRequirement>
        <type value="Observation"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
        <mustSupport value="code"/>
        <mustSupport value="status"/>
        <mustSupport value="encounter"/>
        <mustSupport value="encounter.reference"/>
        <mustSupport value="value"/>
        <codeFilter>
          <path value="code"/>
          <valueSet value="http://smart.who.int/anc/ValueSet/anc-b7-ded9"/>
        </codeFilter>
      </dataRequirement>
    </Library>
  </contained>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Daily caffeine intake"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE139 Daily caffeine intake&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Assesses whether the woman consumes more than 300 mg of caffeine per day&#xA;*/&#xA;define &quot;Daily caffeine intake&quot;:&#xA;  [Observation: Cx.&quot;Daily caffeine intake&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;    return O.value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="0"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Daily caffeine intake"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE139 Daily caffeine intake&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Assesses whether the woman consumes more than 300 mg of caffeine per day&#xA;*/&#xA;define &quot;Daily caffeine intake&quot;:&#xA;  [Observation: Cx.&quot;Daily caffeine intake&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="1"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Persistent behaviours"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B7.DED9 Persistent behaviours&#xA;  @activity: ANC.B7 Symptoms &amp; Follow-up&#xA;  @description: Which of the following behaviours persist? Select which of the following behaviours persist after being reported during last contact&#xA;*/&#xA;define &quot;Persistent behaviours&quot;:&#xA;  [Observation: Cx.&quot;Persistent behaviours&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;    return O.value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="2"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT15"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct counselling on caffeine reduction"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((((((((&quot;Daily caffeine intake&quot; = &quot;More than 2 cups of coffee (brewed, filter, instant or espresso)&quot;)&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than 4 cups of tea&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than 12 bars (50g) of chocolate&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than one can of soda or energy drink&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;None of the above daily caffeine intake&quot;))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than 2 cups of coffee (brewed, filter, instant, or espresso)&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF  &quot;Daily caffeine intake&quot; = &quot;More than 4 cups of tea&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than 12 bars (50 g) of chocolate&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than one can of soda or energy drink&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;None of the above daily caffeine intake&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistant behaviours&quot; = &quot;High caffeine intake&quot;)&#xA;*/&#xA;define &quot;Should Conduct counselling on caffeine reduction&quot;:&#xA;  ContactData.&quot;Daily caffeine intake&quot; O in Cx.&quot;Daily caffeine intake - More than 2 cups of coffee Choices&quot;&#xA;    or ContactData.&quot;Daily caffeine intake&quot; in Cx.&quot;Daily caffeine intake - More than 4 cups of tea Choices&quot;&#xA;    or ContactData.&quot;Daily caffeine intake&quot; in Cx.&quot;Daily caffeine intake - More than 12 bars of chocolate Choices&quot;&#xA;    or ContactData.&quot;Daily caffeine intake&quot; in Cx.&quot;Daily caffeine intake - More than one can of soda or energy drink Choices&quot;&#xA;    or ContactData.&quot;Daily caffeine intake&quot; in Cx.&quot;Daily caffeine intake - None of the above daily caffeine intake Choices&quot;&#xA;    or (Count(PatientData.&quot;Daily caffeine intake&quot; O where O.value in Cx.&quot;Daily caffeine intake - More than 2 cups of coffee Choices&quot;) &gt;= 2)&#xA;    or (Count(PatientData.&quot;Daily caffeine intake&quot; O where O.value in Cx.&quot;Daily caffeine intake - More than 4 cups of tea Choices&quot;) &gt;= 2)&#xA;    or (Count(PatientData.&quot;Daily caffeine intake&quot; O where O.value in Cx.&quot;Daily caffeine intake - More than 12 bars of chocolate Choices&quot;) &gt;= 2)&#xA;    or (Count(PatientData.&quot;Daily caffeine intake&quot; O where O.value in Cx.&quot;Daily caffeine intake - More than one can of soda or energy drink Choices&quot;) &gt;= 2)&#xA;    or (Count(PatientData.&quot;Daily caffeine intake&quot; O where O.value in Cx.&quot;Daily caffeine intake - None of the above daily caffeine intake Choices&quot;) &gt;= 2)&#xA;    or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - High caffeine intake Choices&quot;"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="3"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Current alcohol and/or other substance use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE146 Current alcohol and/or other substance use&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Whether or not the woman currently consumes any alcohol or substances&#xA;*/&#xA;define &quot;Current alcohol and/or other substance use&quot;:&#xA;  [Observation: Cx.&quot;Current alcohol and/or other substance use&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;    return O.value as FHIR.CodeableConcept"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="4"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Current alcohol and/or other substance use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE146 Current alcohol and/or other substance use&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Whether or not the woman currently consumes any alcohol or substances&#xA;*/&#xA;define &quot;Current alcohol and/or other substance use&quot;:&#xA;  [Observation: Cx.&quot;Current alcohol and/or other substance use&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="5"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT15"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct counselling on alcohol/substance use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;(((((&quot;Current alcohol and/or other substance use&quot; = &quot;Alcohol&quot;)&#xA;  OR (IF  &quot;Current alcohol and/or other substance use&quot; = &quot;Alcohol&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Alcohol use&quot;))&#xA;  OR (&quot;Current alcohol and/or other substance use&quot; = &quot;Marijuana&quot; AND/OR &quot;Cocaine&quot; AND/OR &quot;Crack&quot; AND/OR &quot;Injectable drugs&quot; AND/OR &quot;Other substance use (specify)&quot;))&#xA;  OR (IF &quot;Current alcohol and/or other substance use&quot; = &quot;Marijuana&quot; AND/OR &quot;Cocaine&quot; AND/OR &quot;Crack&quot; AND/OR &quot;Injectable drugs&quot; AND/OR &quot;Other substance use (specify)&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Substance use&quot;)&#xA;*/&#xA;define &quot;Should Conduct counselling on alcohol/substance use&quot;:&#xA;  ContactData.&quot;Current alcohol and/or other substance use&quot; in Cx.&quot;Current alcohol and/or other substance use - Alcohol Choices&quot;&#xA;    or (&#xA;      Count(&#xA;        PatientData.&quot;Current alcohol and/or other substance use&quot; O&#xA;          where O.value as FHIR.CodeableConcept in Cx.&quot;Current alcohol and/or other substance use - Alcohol Choices&quot;&#xA;      ) &gt;= 2&#xA;    )&#xA;    or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - Alcohol use Choices&quot;&#xA;    or ContactData.&quot;Current alcohol and/or other substance use&quot; in Cx.&quot;Current alcohol and/or other substance use - Marijuana Choices&quot;&#xA;    or ContactData.&quot;Current alcohol and/or other substance use&quot; in Cx.&quot;Current alcohol and/or other substance use - Cocaine Choices&quot;&#xA;    or ContactData.&quot;Current alcohol and/or other substance use&quot; in Cx.&quot;Current alcohol and/or other substance use - Injectable drugs Choices&quot;&#xA;    or ContactData.&quot;Current alcohol and/or other substance use&quot; in Cx.&quot;Current alcohol and/or other substance use - Other (specify) Choices&quot;&#xA;    or (&#xA;      Count(&#xA;        PatientData.&quot;Current alcohol and/or other substance use&quot; O&#xA;          where O.value as FHIR.CodeableConcept in Cx.&quot;Current alcohol and/or other substance use - Marijuana Choices&quot;&#xA;            or O.value as FHIR.CodeableConcept in Cx.&quot;Current alcohol and/or other substance use - Cocaine Choices&quot;&#xA;            or O.value as FHIR.CodeableConcept in Cx.&quot;Current alcohol and/or other substance use - Injectable drugs Choices&quot;&#xA;            or O.value as FHIR.CodeableConcept in Cx.&quot;Current alcohol and/or other substance use - Other (specify) Choices&quot;&#xA;      ) &gt;= 2&#xA;    )&#xA;    or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - Substance use Choices&quot;"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="6"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Tobacco use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE153 Tobacco use&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Whether the woman uses tobacco products&#xA;*/&#xA;define &quot;Tobacco use&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Tobacco use&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="7"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Tobacco use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE153 Tobacco use&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Whether the woman uses tobacco products&#xA;*/&#xA;define &quot;Tobacco use&quot;:&#xA;  [Observation: Cx.&quot;Tobacco use&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="8"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Recently quit tobacco products"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE154 Recently quit tobacco products&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Whether the woman has recently quit using any tobacco products&#xA;*/&#xA;define &quot;Recently quit tobacco products&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Recently quit tobacco products&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="9"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Recently quit tobacco products"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE154 Recently quit tobacco products&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Whether the woman has recently quit using any tobacco products&#xA;*/&#xA;define &quot;Recently quit tobacco products&quot;:&#xA;  [Observation: Cx.&quot;Recently quit tobacco products&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="10"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT15"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct counselling on tobacco cessation"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((&quot;Tobacco use&quot; = TRUE)&#xA;  OR (IF &quot;Tobacco use&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Recently quit tobacco products&quot; = TRUE))&#xA;  OR (IF &quot;Recently quit tobacco products&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistant behaviours&quot; = &quot;Current tobacco use or recently quit&quot;)&#xA;*/&#xA;define &quot;Should Conduct counselling on tobacco cessation&quot;:&#xA;  ContactData.&quot;Tobacco use&quot; is true&#xA;     or (Count(PatientData.&quot;Tobacco use&quot; O where O.value = true) &gt;= 2)&#xA;     or ContactData.&quot;Recently quit tobacco products&quot; is true&#xA;     or (Count(PatientData.&quot;Recently quit tobacco products&quot; O where O.value = true) &gt;= 2)&#xA;     or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - Recently quit tobacco products Choices&quot;"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="11"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Exposure to second-hand smoke"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE155 Exposure to second-hand smoke&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Anyone in the household smokes tobacco products  whether the woman is exposed to second-hand smoke from anyone in her household&#xA;*/&#xA;define &quot;Exposure to second-hand smoke&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Exposure to second-hand smoke&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="12"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Exposure to second-hand smoke"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE155 Exposure to second-hand smoke&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Anyone in the household smokes tobacco products  whether the woman is exposed to second-hand smoke from anyone in her household&#xA;*/&#xA;define &quot;Exposure to second-hand smoke&quot;:&#xA;  [Observation: Cx.&quot;Exposure to second-hand smoke&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="13"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT15"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct counselling on second-hand smoke"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((&quot;Exposure to second&quot;hand smoke&quot; = TRUE)&#xA;  OR (IF &quot;Exposure to second-hand smoke&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Exposure to second-hand smoke in the home&quot;)&#xA;*/&#xA;define &quot;Should Conduct counselling on second-hand smoke&quot;:&#xA;  ContactData.&quot;Exposure to second-hand smoke&quot; is true&#xA;    or (Count(PatientData.&quot;Exposure to second-hand smoke&quot; O where O.value = true) &gt;= 2)&#xA;    or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - Exposure to second-hand smoke Choices&quot;"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="14"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Contraceptive use of male condoms"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE160 Contraceptive use of male condoms&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Whether or not the woman (and her partner) use male condoms during sex&#xA;*/&#xA;define &quot;Contraceptive use of male condoms&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Contraceptive use of male condoms&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="15"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Contraceptive use of male condoms"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE160 Contraceptive use of male condoms&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Whether or not the woman (and her partner) use male condoms during sex&#xA;*/&#xA;define &quot;Contraceptive use of male condoms&quot;:&#xA;  [Observation: Cx.&quot;Contraceptive use of male condoms&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;    return O.value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="16"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCContactDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Contraceptive use of female condoms"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE161 Contraceptive use of female condoms&#xA;  @activity: ANC.B6 Profile&#xA;  @description: Whether or not the woman (and her partner) use female condoms during sex&#xA;*/&#xA;define &quot;Contraceptive use of female condoms&quot;:&#xA;  WC.Only(&#xA;  [Observation: Cx.&quot;Contraceptive use of female condoms&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))&#xA;  ).value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="17"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDataElements"/>
    </extension>
    <extension url="name">
      <valueString value="Contraceptive use of female condoms"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;  @dataElement: ANC.B6.DE161 Contraceptive use of female condoms&#xA;  @activity: ANC.B6. Collect woman's profile and history&#xA;  @description: Whether or not the woman (and her partner) use female condoms during sex&#xA;*/&#xA;define &quot;Contraceptive use of female condoms&quot;:&#xA;  [Observation: Cx.&quot;Contraceptive use of female condoms&quot;] O&#xA;    where O.status in { 'final', 'amended', 'corrected' }&#xA;      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false&#xA;    return O.value as FHIR.boolean"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="18"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="ANCDT15"/>
    </extension>
    <extension url="name">
      <valueString value="Should Conduct counselling on condom use"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;((((&quot;Contraceptive use of male condoms&quot; = FALSE)&#xA;  OR (&quot;Contraceptive use of female condoms&quot; = FALSE))&#xA;  OR (IF &quot;Contraceptive use of male condoms&quot; = FALSE ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Contraceptive use of female condoms&quot; = FALSE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;No condom use during sex&quot;)&#xA;*/&#xA;define &quot;Should Conduct counselling on condom use&quot;:&#xA;  ContactData.&quot;Contraceptive use of male condoms&quot; is false&#xA;     or (Count(PatientData.&quot;Contraceptive use of male condoms&quot; O where O.value = false) &gt;= 2)&#xA;     or ContactData.&quot;Contraceptive use of female condoms&quot; is false&#xA;     or (Count(PatientData.&quot;Contraceptive use of female condoms&quot; O where O.value = false) &gt;= 2)&#xA;     or ContactData.&quot;Persistent behaviours&quot; in Cx.&quot;Persistent behaviours - No condom use during sex Choices&quot;"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="19"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value ObservationStatus): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="20"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToBoolean"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToBoolean(value boolean): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="21"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="ModifierExtension"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.&#xA;@comment: This function uses singleton from to ensure that a run-time exception is thrown if there&#xA;is more than one extension on the given resource with the specified url.&#xA;*/&#xA;define function ModifierExtension(domainResource DomainResource, id String):&#xA;  singleton from ModifierExtensions(domainResource, id)"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="22"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="ModifierExtensions"/>
    </extension>
    <extension url="statement">
      <valueString value="/*&#xA;@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.&#xA;@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access&#xA;content that is defined by extensions but not yet surfaced in the&#xA;CQL model info.&#xA;*/&#xA;define function ModifierExtensions(domainResource DomainResource, id String):&#xA;  domainResource.modifierExtension E&#xA;&#x9;  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)&#xA;&#x9;&#x9;return E"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="23"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value uri): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="24"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToString"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToString(value string): value.value"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="25"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToConcept"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToConcept(concept FHIR.CodeableConcept):&#xA;    if concept is null then&#xA;        null&#xA;    else&#xA;        System.Concept {&#xA;            codes: concept.coding C return ToCode(C),&#xA;            display: concept.text.value&#xA;        }"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="26"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="FHIRHelpers"/>
    </extension>
    <extension url="name">
      <valueString value="ToCode"/>
    </extension>
    <extension url="statement">
      <valueString value="define function ToCode(coding FHIR.Coding):&#xA;    if coding is null then&#xA;        null&#xA;    else&#xA;        System.Code {&#xA;          code: coding.code.value,&#xA;          system: coding.system.value,&#xA;          version: coding.version.value,&#xA;          display: coding.display.value&#xA;        }"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="27"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition">
    <extension url="libraryName">
      <valueString value="WHOCommon"/>
    </extension>
    <extension url="name">
      <valueString value="Only"/>
    </extension>
    <extension url="statement">
      <valueString value="define function Only(observations List&lt;Observation&gt;):&#xA;  singleton from observations"/>
    </extension>
    <extension url="displaySequence">
      <valueInteger value="28"/>
    </extension>
  </extension>
  <extension id="effective-data-requirements" url="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements">
    <valueCanonical value="#effective-data-requirements"/>
  </extension>
  <extension url="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem">
    <valueReference>
      <reference value="Device/cqf-tooling"/>
    </valueReference>
  </extension>
  <url value="http://smart.who.int/anc/PlanDefinition/ANCDT15"/>
  <identifier>
    <use value="official"/>
    <value value="ANC.DT.15"/>
  </identifier>
  <version value="0.3.0"/>
  <name value="ANCDT15"/>
  <title value="ANC.DT.15 Behaviour counselling required"/>
  <type>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/plan-definition-type"/>
      <code value="eca-rule"/>
    </coding>
  </type>
  <status value="active"/>
  <experimental value="false"/>
  <date value="2025-06-24T13:58:48-06:00"/>
  <publisher value="World Health Organization (WHO)"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="https://www.who.int"/>
    </telecom>
  </contact>
  <description value="Depending on the woman's behaviours reported during the first contact and the woman's reported persistent behaviours, additional counselling may or may not be required "/>
  <useContext>
    <code>
      <system value="http://terminology.hl7.org/CodeSystem/usage-context-type"/>
      <code value="task"/>
      <display value="Workflow Task"/>
    </code>
    <valueCodeableConcept>
      <coding>
        <system value="http://smart.who.int/anc/CodeSystem/activity-codes"/>
        <code value="ANC.B10."/>
        <display value="Counselling, in-facility management &amp; treatment "/>
      </coding>
    </valueCodeableConcept>
  </useContext>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="001"/>
    </coding>
  </jurisdiction>
  <library value="http://smart.who.int/anc/Library/ANCDT15"/>
  <action>
    <title value="ANC.DT.15 Behaviour counselling required"/>
    <trigger>
      <type value="named-event"/>
      <name value="ANC.B10. Counselling, in-facility management &amp; treatment "/>
    </trigger>
    <action id="1">
      <title value="Conduct counselling on caffeine reduction"/>
      <description value="Conduct counselling on caffeine reduction"/>
      <textEquivalent value="Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates.&#xA;&#xA;This includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets); caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 ml serving"/>
      <documentation>
        <type value="citation"/>
        <label value="WHO ANC recommendations (2016): A.10. Restricting caffeine intake (3)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((((((((&quot;Daily caffeine intake&quot; = &quot;More than 2 cups of coffee (brewed, filter, instant or espresso)&quot;)&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than 4 cups of tea&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than 12 bars (50g) of chocolate&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;More than one can of soda or energy drink&quot;))&#xA;  OR (&quot;Daily caffeine intake&quot; = &quot;None of the above daily caffeine intake&quot;))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than 2 cups of coffee (brewed, filter, instant, or espresso)&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF  &quot;Daily caffeine intake&quot; = &quot;More than 4 cups of tea&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than 12 bars (50 g) of chocolate&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;More than one can of soda or energy drink&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Daily caffeine intake&quot; = &quot;None of the above daily caffeine intake&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistant behaviours&quot; = &quot;High caffeine intake&quot;)"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct counselling on caffeine reduction"/>
        </expression>
      </condition>
    </action>
    <action id="2">
      <title value="Conduct counselling on tobacco cessation"/>
      <description value="Conduct counselling on tobacco cessation"/>
      <textEquivalent value="Health-care providers should routinely offer advice and psychosocial interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters"/>
      <documentation>
        <type value="citation"/>
        <label value="WHO ANC recommendations (2016): B.1.5. Tobacco use (3)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((&quot;Tobacco use&quot; = TRUE)&#xA;  OR (IF &quot;Tobacco use&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Recently quit tobacco products&quot; = TRUE))&#xA;  OR (IF &quot;Recently quit tobacco products&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistant behaviours&quot; = &quot;Current tobacco use or recently quit&quot;)"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct counselling on tobacco cessation"/>
        </expression>
      </condition>
    </action>
    <action id="3">
      <title value="Conduct counselling on second-hand smoke"/>
      <description value="Conduct counselling on second-hand smoke"/>
      <textEquivalent value="Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home"/>
      <documentation>
        <type value="citation"/>
        <label value="WHO ANC recommendations (2016): B.1.5. Tobacco use (3)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((&quot;Exposure to second&quot;hand smoke&quot; = TRUE)&#xA;  OR (IF &quot;Exposure to second-hand smoke&quot; = TRUE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Exposure to second-hand smoke in the home&quot;)"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct counselling on second-hand smoke"/>
        </expression>
      </condition>
    </action>
    <action id="4">
      <title value="Conduct counselling on condom use"/>
      <description value="Conduct counselling on condom use"/>
      <textEquivalent value="Advise to use condoms to prevent Zika, HIV and other STIs; if necessary, reassure it is OK to continue to have sex during pregnancy"/>
      <documentation>
        <type value="citation"/>
        <label value="Pregnancy management with Zika (2017) (19)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="((((&quot;Contraceptive use of male condoms&quot; = FALSE)&#xA;  OR (&quot;Contraceptive use of female condoms&quot; = FALSE))&#xA;  OR (IF &quot;Contraceptive use of male condoms&quot; = FALSE ON MORE THAN ONE CONTACT))&#xA;  OR (IF &quot;Contraceptive use of female condoms&quot; = FALSE ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;No condom use during sex&quot;)"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct counselling on condom use"/>
        </expression>
      </condition>
    </action>
    <action id="5">
      <title value="Conduct counselling on alcohol/substance use"/>
      <description value="Conduct counselling on alcohol/substance use"/>
      <textEquivalent value="Health-care providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable"/>
      <documentation>
        <type value="citation"/>
        <label value="WHO ANC recommendations (2016): B.1.6. Substance use (3)"/>
      </documentation>
      <condition>
        <kind value="applicability"/>
        <expression>
          <description value="(((((&quot;Current alcohol and/or other substance use&quot; = &quot;Alcohol&quot;)&#xA;  OR (IF  &quot;Current alcohol and/or other substance use&quot; = &quot;Alcohol&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Alcohol use&quot;))&#xA;  OR (&quot;Current alcohol and/or other substance use&quot; = &quot;Marijuana&quot; AND/OR &quot;Cocaine&quot; AND/OR &quot;Crack&quot; AND/OR &quot;Injectable drugs&quot; AND/OR &quot;Other substance use (specify)&quot;))&#xA;  OR (IF &quot;Current alcohol and/or other substance use&quot; = &quot;Marijuana&quot; AND/OR &quot;Cocaine&quot; AND/OR &quot;Crack&quot; AND/OR &quot;Injectable drugs&quot; AND/OR &quot;Other substance use (specify)&quot; ON MORE THAN ONE CONTACT))&#xA;  OR (&quot;Persistent behaviours&quot; = &quot;Substance use&quot;)"/>
          <language value="text/cql-identifier"/>
          <expression value="Should Conduct counselling on alcohol/substance use"/>
        </expression>
      </condition>
    </action>
  </action>
</PlanDefinition>